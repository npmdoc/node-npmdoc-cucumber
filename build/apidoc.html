<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="http://github.com/cucumber/cucumber-js"

    >cucumber (v1.3.2)</a>
</h1>
<h4>The official JavaScript implementation of Cucumber.</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber">module cucumber</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.cucumber">
            function <span class="apidocSignatureSpan"></span>cucumber
            <span class="apidocSignatureSpan">(featureSource, supportCodeInitializer, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Ast.Filter">
            function <span class="apidocSignatureSpan">cucumber.</span>Ast.Filter
            <span class="apidocSignatureSpan">(rules)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Cli">
            function <span class="apidocSignatureSpan">cucumber.</span>Cli
            <span class="apidocSignatureSpan">(argv)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Listener">
            function <span class="apidocSignatureSpan">cucumber.</span>Listener
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Parser">
            function <span class="apidocSignatureSpan">cucumber.</span>Parser
            <span class="apidocSignatureSpan">(featureSources, astFilter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Runtime">
            function <span class="apidocSignatureSpan">cucumber.</span>Runtime
            <span class="apidocSignatureSpan">(configuration)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.SupportCode.StepDefinitionSnippetBuilder">
            function <span class="apidocSignatureSpan">cucumber.</span>SupportCode.StepDefinitionSnippetBuilder
            <span class="apidocSignatureSpan">(step, syntax)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.TagGroupParser">
            function <span class="apidocSignatureSpan">cucumber.</span>TagGroupParser
            <span class="apidocSignatureSpan">(tagGroupString)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Type.String">
            function <span class="apidocSignatureSpan">cucumber.</span>Type.String
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.VolatileConfiguration">
            function <span class="apidocSignatureSpan">cucumber.</span>VolatileConfiguration
            <span class="apidocSignatureSpan">(features, supportCodeInitializer, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.</span>Api</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.</span>Ast</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.</span>Cli.FeaturePathExpander</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.</span>Cli.PathExpander</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.</span>Cli.ProfilesLoader</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.</span>Cli.SupportCodePathExpander</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.</span>Debug</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.</span>Events</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.</span>Runtime.StackTraceFilter</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.</span>Status</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.</span>SupportCode</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.</span>Type</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.</span>Type.String.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.</span>Util</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.</span>Util.Exception</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.</span>Util.RealTime</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.</span>Util.RegExp</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.</span>Util.String</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cucumber.</span>VERSION</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Api">module cucumber.Api</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Api.Scenario">
            function <span class="apidocSignatureSpan">cucumber.Api.</span>Scenario
            <span class="apidocSignatureSpan">(astScenario, scenarioResult)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Ast">module cucumber.Ast</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Ast.DataTable">
            function <span class="apidocSignatureSpan">cucumber.Ast.</span>DataTable
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Ast.DocString">
            function <span class="apidocSignatureSpan">cucumber.Ast.</span>DocString
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Ast.Feature">
            function <span class="apidocSignatureSpan">cucumber.Ast.</span>Feature
            <span class="apidocSignatureSpan">(data, uri, scenarios)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Ast.Filter">
            function <span class="apidocSignatureSpan">cucumber.Ast.</span>Filter
            <span class="apidocSignatureSpan">(rules)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Ast.HookStep">
            function <span class="apidocSignatureSpan">cucumber.Ast.</span>HookStep
            <span class="apidocSignatureSpan">(keyword)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Ast.Scenario">
            function <span class="apidocSignatureSpan">cucumber.Ast.</span>Scenario
            <span class="apidocSignatureSpan">(data, uri)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Ast.Step">
            function <span class="apidocSignatureSpan">cucumber.Ast.</span>Step
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Ast.Tag">
            function <span class="apidocSignatureSpan">cucumber.Ast.</span>Tag
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Ast.Filter">module cucumber.Ast.Filter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Ast.Filter.Filter">
            function <span class="apidocSignatureSpan">cucumber.Ast.</span>Filter
            <span class="apidocSignatureSpan">(rules)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Ast.Filter.AnyOfNamesRule">
            function <span class="apidocSignatureSpan">cucumber.Ast.Filter.</span>AnyOfNamesRule
            <span class="apidocSignatureSpan">(names)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Ast.Filter.AnyOfTagsRule">
            function <span class="apidocSignatureSpan">cucumber.Ast.Filter.</span>AnyOfTagsRule
            <span class="apidocSignatureSpan">(tags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Ast.Filter.ElementMatchingTagSpec">
            function <span class="apidocSignatureSpan">cucumber.Ast.Filter.</span>ElementMatchingTagSpec
            <span class="apidocSignatureSpan">(tagName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Ast.Filter.ScenarioAtLineRule">
            function <span class="apidocSignatureSpan">cucumber.Ast.Filter.</span>ScenarioAtLineRule
            <span class="apidocSignatureSpan">(suppliedPaths)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Cli">module cucumber.Cli</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Cli.Cli">
            function <span class="apidocSignatureSpan">cucumber.</span>Cli
            <span class="apidocSignatureSpan">(argv)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Cli.Configuration">
            function <span class="apidocSignatureSpan">cucumber.Cli.</span>Configuration
            <span class="apidocSignatureSpan">(options, args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Cli.FeatureSourceLoader">
            function <span class="apidocSignatureSpan">cucumber.Cli.</span>FeatureSourceLoader
            <span class="apidocSignatureSpan">(featureFilePaths)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Cli.SupportCodeLoader">
            function <span class="apidocSignatureSpan">cucumber.Cli.</span>SupportCodeLoader
            <span class="apidocSignatureSpan">(supportCodeFilePaths, compilerModules)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.Cli.</span>FeaturePathExpander</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.Cli.</span>PathExpander</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.Cli.</span>ProfilesLoader</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.Cli.</span>SupportCodePathExpander</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Cli.FeaturePathExpander">module cucumber.Cli.FeaturePathExpander</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Cli.FeaturePathExpander.expandPaths">
            function <span class="apidocSignatureSpan">cucumber.Cli.FeaturePathExpander.</span>expandPaths
            <span class="apidocSignatureSpan">(paths)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Cli.PathExpander">module cucumber.Cli.PathExpander</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Cli.PathExpander.expandDirectoryWithExtensions">
            function <span class="apidocSignatureSpan">cucumber.Cli.PathExpander.</span>expandDirectoryWithExtensions
            <span class="apidocSignatureSpan">(realPath, extensions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Cli.PathExpander.expandPathWithExtensions">
            function <span class="apidocSignatureSpan">cucumber.Cli.PathExpander.</span>expandPathWithExtensions
            <span class="apidocSignatureSpan">(path, extensions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Cli.PathExpander.expandPathsWithExtensions">
            function <span class="apidocSignatureSpan">cucumber.Cli.PathExpander.</span>expandPathsWithExtensions
            <span class="apidocSignatureSpan">(paths, extensions)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Cli.ProfilesLoader">module cucumber.Cli.ProfilesLoader</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Cli.ProfilesLoader.getArgs">
            function <span class="apidocSignatureSpan">cucumber.Cli.ProfilesLoader.</span>getArgs
            <span class="apidocSignatureSpan">(profiles)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Cli.SupportCodePathExpander">module cucumber.Cli.SupportCodePathExpander</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Cli.SupportCodePathExpander.expandPaths">
            function <span class="apidocSignatureSpan">cucumber.Cli.SupportCodePathExpander.</span>expandPaths
            <span class="apidocSignatureSpan">(paths, extensions)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Debug">module cucumber.Debug</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Debug.SimpleAstListener">
            function <span class="apidocSignatureSpan">cucumber.Debug.</span>SimpleAstListener
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Debug.TODO">
            function <span class="apidocSignatureSpan">cucumber.Debug.</span>TODO
            <span class="apidocSignatureSpan">(description)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Debug.isMessageLeveltoBeDisplayed">
            function <span class="apidocSignatureSpan">cucumber.Debug.</span>isMessageLeveltoBeDisplayed
            <span class="apidocSignatureSpan">(level)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Debug.notice">
            function <span class="apidocSignatureSpan">cucumber.Debug.</span>notice
            <span class="apidocSignatureSpan">(string, caption, level)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Debug.noticeString">
            function <span class="apidocSignatureSpan">cucumber.Debug.</span>noticeString
            <span class="apidocSignatureSpan">(string, caption)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Debug.prefix">
            function <span class="apidocSignatureSpan">cucumber.Debug.</span>prefix
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Debug.warn">
            function <span class="apidocSignatureSpan">cucumber.Debug.</span>warn
            <span class="apidocSignatureSpan">(string, caption, level)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Debug.warningString">
            function <span class="apidocSignatureSpan">cucumber.Debug.</span>warningString
            <span class="apidocSignatureSpan">(string, caption)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Events">module cucumber.Events</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Events.getAfterEvent">
            function <span class="apidocSignatureSpan">cucumber.Events.</span>getAfterEvent
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Events.getBeforeEvent">
            function <span class="apidocSignatureSpan">cucumber.Events.</span>getBeforeEvent
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.Events.</span>ALL</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cucumber.Events.</span>FEATURES_EVENT_NAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cucumber.Events.</span>FEATURES_RESULT_EVENT_NAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cucumber.Events.</span>FEATURE_EVENT_NAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cucumber.Events.</span>SCENARIO_EVENT_NAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cucumber.Events.</span>SCENARIO_RESULT_EVENT_NAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cucumber.Events.</span>STEP_EVENT_NAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cucumber.Events.</span>STEP_RESULT_EVENT_NAME</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Listener">module cucumber.Listener</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Listener.Listener">
            function <span class="apidocSignatureSpan">cucumber.</span>Listener
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Listener.Formatter">
            function <span class="apidocSignatureSpan">cucumber.Listener.</span>Formatter
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Listener.JsonFormatter">
            function <span class="apidocSignatureSpan">cucumber.Listener.</span>JsonFormatter
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Listener.PrettyFormatter">
            function <span class="apidocSignatureSpan">cucumber.Listener.</span>PrettyFormatter
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Listener.ProgressFormatter">
            function <span class="apidocSignatureSpan">cucumber.Listener.</span>ProgressFormatter
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Listener.RerunFormatter">
            function <span class="apidocSignatureSpan">cucumber.Listener.</span>RerunFormatter
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Listener.SnippetsFormatter">
            function <span class="apidocSignatureSpan">cucumber.Listener.</span>SnippetsFormatter
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Listener.SummaryFormatter">
            function <span class="apidocSignatureSpan">cucumber.Listener.</span>SummaryFormatter
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cucumber.Listener.</span>EVENT_HANDLER_NAME_PREFIX</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cucumber.Listener.</span>EVENT_HANDLER_NAME_SUFFIX</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Runtime">module cucumber.Runtime</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Runtime.Runtime">
            function <span class="apidocSignatureSpan">cucumber.</span>Runtime
            <span class="apidocSignatureSpan">(configuration)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Runtime.Attachment">
            function <span class="apidocSignatureSpan">cucumber.Runtime.</span>Attachment
            <span class="apidocSignatureSpan">(payload)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Runtime.Event">
            function <span class="apidocSignatureSpan">cucumber.Runtime.</span>Event
            <span class="apidocSignatureSpan">(name, payload)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Runtime.EventBroadcaster">
            function <span class="apidocSignatureSpan">cucumber.Runtime.</span>EventBroadcaster
            <span class="apidocSignatureSpan">(listeners, listenerDefaultTimeout)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Runtime.FeaturesResult">
            function <span class="apidocSignatureSpan">cucumber.Runtime.</span>FeaturesResult
            <span class="apidocSignatureSpan">(strict)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Runtime.FeaturesRunner">
            function <span class="apidocSignatureSpan">cucumber.Runtime.</span>FeaturesRunner
            <span class="apidocSignatureSpan">(features, supportCodeLibrary, listeners, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Runtime.ScenarioResult">
            function <span class="apidocSignatureSpan">cucumber.Runtime.</span>ScenarioResult
            <span class="apidocSignatureSpan">(scenario)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Runtime.ScenarioRunner">
            function <span class="apidocSignatureSpan">cucumber.Runtime.</span>ScenarioRunner
            <span class="apidocSignatureSpan">(scenario, supportCodeLibrary, eventBroadcaster, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Runtime.StepResult">
            function <span class="apidocSignatureSpan">cucumber.Runtime.</span>StepResult
            <span class="apidocSignatureSpan">(payload)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.Runtime.</span>StackTraceFilter</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cucumber.Runtime.</span>START_MISSING_CALLBACK_ERROR</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Runtime.StackTraceFilter">module cucumber.Runtime.StackTraceFilter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Runtime.StackTraceFilter.filter">
            function <span class="apidocSignatureSpan">cucumber.Runtime.StackTraceFilter.</span>filter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Runtime.StackTraceFilter.unfilter">
            function <span class="apidocSignatureSpan">cucumber.Runtime.StackTraceFilter.</span>unfilter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Status">module cucumber.Status</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Status.getMapping">
            function <span class="apidocSignatureSpan">cucumber.Status.</span>getMapping
            <span class="apidocSignatureSpan">(initialValue)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cucumber.Status.</span>AMBIGUOUS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cucumber.Status.</span>FAILED</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cucumber.Status.</span>PASSED</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cucumber.Status.</span>PENDING</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cucumber.Status.</span>SKIPPED</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cucumber.Status.</span>UNDEFINED</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.SupportCode">module cucumber.SupportCode</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.SupportCode.Hook">
            function <span class="apidocSignatureSpan">cucumber.SupportCode.</span>Hook
            <span class="apidocSignatureSpan">(code, options, uri, line)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.SupportCode.Library">
            function <span class="apidocSignatureSpan">cucumber.SupportCode.</span>Library
            <span class="apidocSignatureSpan">(supportCodeDefinition)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.SupportCode.StepDefinition">
            function <span class="apidocSignatureSpan">cucumber.SupportCode.</span>StepDefinition
            <span class="apidocSignatureSpan">(pattern, options, code, uri, line)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.SupportCode.StepDefinitionSnippetBuilder">
            function <span class="apidocSignatureSpan">cucumber.SupportCode.</span>StepDefinitionSnippetBuilder
            <span class="apidocSignatureSpan">(step, syntax)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.SupportCode.StepDefinitionSnippetBuilder">module cucumber.SupportCode.StepDefinitionSnippetBuilder</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.SupportCode.StepDefinitionSnippetBuilder.StepDefinitionSnippetBuilder">
            function <span class="apidocSignatureSpan">cucumber.SupportCode.</span>StepDefinitionSnippetBuilder
            <span class="apidocSignatureSpan">(step, syntax)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.SupportCode.StepDefinitionSnippetBuilder.JavaScriptSyntax">
            function <span class="apidocSignatureSpan">cucumber.SupportCode.StepDefinitionSnippetBuilder.</span>JavaScriptSyntax
            <span class="apidocSignatureSpan">(interface)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.TagGroupParser">module cucumber.TagGroupParser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.TagGroupParser.TagGroupParser">
            function <span class="apidocSignatureSpan">cucumber.</span>TagGroupParser
            <span class="apidocSignatureSpan">(tagGroupString)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.TagGroupParser.getTagGroupsFromStrings">
            function <span class="apidocSignatureSpan">cucumber.TagGroupParser.</span>getTagGroupsFromStrings
            <span class="apidocSignatureSpan">(tagGroupStrings)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cucumber.TagGroupParser.</span>TAG_SEPARATOR</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Type">module cucumber.Type</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Type.HashDataTable">
            function <span class="apidocSignatureSpan">cucumber.Type.</span>HashDataTable
            <span class="apidocSignatureSpan">(rawArray)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Type.String">
            function <span class="apidocSignatureSpan">cucumber.Type.</span>String
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Type.String">module cucumber.Type.String</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Type.String.String">
            function <span class="apidocSignatureSpan">cucumber.Type.</span>String
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Type.String.prototype">module cucumber.Type.String.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Type.String.prototype.entityify">
            function <span class="apidocSignatureSpan">cucumber.Type.String.prototype.</span>entityify
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Type.String.prototype.isAlpha">
            function <span class="apidocSignatureSpan">cucumber.Type.String.prototype.</span>isAlpha
            <span class="apidocSignatureSpan">( )</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Type.String.prototype.isDigit">
            function <span class="apidocSignatureSpan">cucumber.Type.String.prototype.</span>isDigit
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Type.String.prototype.supplant">
            function <span class="apidocSignatureSpan">cucumber.Type.String.prototype.</span>supplant
            <span class="apidocSignatureSpan">(e)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Util">module cucumber.Util</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Util.Arguments">
            function <span class="apidocSignatureSpan">cucumber.Util.</span>Arguments
            <span class="apidocSignatureSpan">(argumentsObject)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Util.Colors">
            function <span class="apidocSignatureSpan">cucumber.Util.</span>Colors
            <span class="apidocSignatureSpan">(useColors)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Util.asyncForEach">
            function <span class="apidocSignatureSpan">cucumber.Util.</span>asyncForEach
            <span class="apidocSignatureSpan">(items, userFunction, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Util.run">
            function <span class="apidocSignatureSpan">cucumber.Util.</span>run
            <span class="apidocSignatureSpan">(fn, thisArg, argsArray, timeoutInMilliseconds, callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.Util.</span>Exception</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.Util.</span>RealTime</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.Util.</span>RegExp</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.Util.</span>String</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Util.Exception">module cucumber.Util.Exception</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Util.Exception.registerUncaughtExceptionHandler">
            function <span class="apidocSignatureSpan">cucumber.Util.Exception.</span>registerUncaughtExceptionHandler
            <span class="apidocSignatureSpan">(exceptionHandler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Util.Exception.unregisterUncaughtExceptionHandler">
            function <span class="apidocSignatureSpan">cucumber.Util.Exception.</span>unregisterUncaughtExceptionHandler
            <span class="apidocSignatureSpan">(exceptionHandler)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Util.RealTime">module cucumber.Util.RealTime</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Util.RealTime.Date">
            function <span class="apidocSignatureSpan">cucumber.Util.RealTime.</span>Date
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Util.RealTime.clearImmediate">
            function <span class="apidocSignatureSpan">cucumber.Util.RealTime.</span>clearImmediate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Util.RealTime.clearInterval">
            function <span class="apidocSignatureSpan">cucumber.Util.RealTime.</span>clearInterval
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Util.RealTime.clearTimeout">
            function <span class="apidocSignatureSpan">cucumber.Util.RealTime.</span>clearTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Util.RealTime.setImmediate">
            function <span class="apidocSignatureSpan">cucumber.Util.RealTime.</span>setImmediate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Util.RealTime.setInterval">
            function <span class="apidocSignatureSpan">cucumber.Util.RealTime.</span>setInterval
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Util.RealTime.setTimeout">
            function <span class="apidocSignatureSpan">cucumber.Util.RealTime.</span>setTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Util.RegExp">module cucumber.Util.RegExp</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Util.RegExp.escapeString">
            function <span class="apidocSignatureSpan">cucumber.Util.RegExp.</span>escapeString
            <span class="apidocSignatureSpan">(string)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.Util.RegExp.</span>ESCAPE_PATTERN</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cucumber.Util.RegExp.</span>ESCAPE_REPLACEMENT</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.Util.String">module cucumber.Util.String</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.Util.String.count">
            function <span class="apidocSignatureSpan">cucumber.Util.String.</span>count
            <span class="apidocSignatureSpan">(hayStack, needle)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cucumber.cucumber">module cucumber.cucumber</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.cucumber.cucumber">
            function <span class="apidocSignatureSpan">cucumber.</span>cucumber
            <span class="apidocSignatureSpan">(featureSource, supportCodeInitializer, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.cucumber.Cli">
            function <span class="apidocSignatureSpan">cucumber.cucumber.</span>Cli
            <span class="apidocSignatureSpan">(argv)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.cucumber.Listener">
            function <span class="apidocSignatureSpan">cucumber.cucumber.</span>Listener
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.cucumber.Parser">
            function <span class="apidocSignatureSpan">cucumber.cucumber.</span>Parser
            <span class="apidocSignatureSpan">(featureSources, astFilter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.cucumber.Runtime">
            function <span class="apidocSignatureSpan">cucumber.cucumber.</span>Runtime
            <span class="apidocSignatureSpan">(configuration)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.cucumber.TagGroupParser">
            function <span class="apidocSignatureSpan">cucumber.cucumber.</span>TagGroupParser
            <span class="apidocSignatureSpan">(tagGroupString)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cucumber.cucumber.VolatileConfiguration">
            function <span class="apidocSignatureSpan">cucumber.cucumber.</span>VolatileConfiguration
            <span class="apidocSignatureSpan">(features, supportCodeInitializer, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.cucumber.</span>Api</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.cucumber.</span>Ast</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.cucumber.</span>Debug</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.cucumber.</span>Events</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.cucumber.</span>Status</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.cucumber.</span>SupportCode</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.cucumber.</span>Type</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cucumber.cucumber.</span>Util</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cucumber.cucumber.</span>VERSION</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber" id="apidoc.module.cucumber">module cucumber</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.cucumber" id="apidoc.element.cucumber.cucumber">
        function <span class="apidocSignatureSpan"></span>cucumber
        <span class="apidocSignatureSpan">(featureSource, supportCodeInitializer, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Cucumber(featureSource, supportCodeInitializer, options) {
  var configuration = Cucumber.VolatileConfiguration(featureSource, supportCodeInitializer, options);
  var runtime       = Cucumber.Runtime(configuration);
  return runtime;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Ast.Filter" id="apidoc.element.cucumber.Ast.Filter">
        function <span class="apidocSignatureSpan">cucumber.</span>Ast.Filter
        <span class="apidocSignatureSpan">(rules)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Filter(rules) {
  var self = {
    isElementEnrolled: function isElementEnrolled(element) {
      var enrolled = _.every(rules, function (rule) {
        return rule.isSatisfiedByElement(element);
      });
      return enrolled;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var tagGroups = Cucumber.TagGroupParser.getTagGroupsFromStrings(options.tags);
  var tagRules = tagGroups.map(function (tags) {
     return Cucumber.Ast.Filter.AnyOfTagsRule(tags);
  });
  var lineRule = Cucumber.Ast.Filter.ScenarioAtLineRule(unexpandedFeaturePaths);
  var nameRule = Cucumber.Ast.Filter.AnyOfNamesRule(options.name);
  var rules = tagRules.concat([lineRule, nameRule]);
  return Cucumber.<span class="apidocCodeKeywordSpan">Ast.Filter</span>(rules);
},

getSupportCodeLibrary: function getSupportCodeLibrary() {
  var supportCodePaths = getSupportCodePaths();
  var compilerModules = getCompilerModules();
  var supportCodeLoader = Cucumber.Cli.SupportCodeLoader(supportCodePaths, compilerModules);
  return supportCodeLoader.getSupportCodeLibrary();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Cli" id="apidoc.element.cucumber.Cli">
        function <span class="apidocSignatureSpan">cucumber.</span>Cli
        <span class="apidocSignatureSpan">(argv)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Cli(argv) {
  var Cucumber = require(&#x27;../cucumber&#x27;);
  var Command = require(&#x27;commander&#x27;).Command;
  var path = require(&#x27;path&#x27;);
  var _ = require(&#x27;lodash&#x27;);

  function mergeWorldParametersJson(str, memo) {
    var val;
    try {
      val = JSON.parse(str);
    } catch (error) {
      throw new Error(&#x27;--world-parameters passed invalid JSON: &#x27; + error.message + &#x27;: &#x27; + str);
    }
    if (!_.isPlainObject(val)) {
      throw new Error(&#x27;--world-parameters must be passed a JSON string of an object: &#x27; + str);
    }
    _.merge(memo, val);
    return memo;
  }

  function collect(val, memo) {
    memo.push(val);
    return memo;
  }

  function getProgram () {
    var program = new Command(path.basename(argv[1]));

    program
      .usage(&#x27;[options] [&#x3c;DIR | FILE[:LINE]&#x3e;...]&#x27;)
      .version(Cucumber.VERSION, &#x27;-v, --version&#x27;)
      .option(&#x27;-b, --backtrace&#x27;, &#x27;show full backtrace for errors&#x27;)
      .option(&#x27;--compiler &#x3c;EXTENSION:MODULE&#x3e;&#x27;, &#x27;require files with the given EXTENSION after requiring MODULE (repeatable)&#x27;, collect
, [])
      .option(&#x27;-d, --dry-run&#x27;, &#x27;invoke formatters without executing steps&#x27;)
      .option(&#x27;--fail-fast&#x27;, &#x27;abort the run on first failure&#x27;)
      .option(&#x27;-f, --format &#x3c;TYPE[:PATH]&#x3e;&#x27;, &#x27;specify the output format, optionally supply PATH to redirect formatter output (repeatable
)&#x27;, collect, [&#x27;pretty&#x27;])
      .option(&#x27;--name &#x3c;REGEXP&#x3e;&#x27;, &#x27;only execute the scenarios with name matching the expression (repeatable)&#x27;, collect, [])
      .option(&#x27;--no-colors&#x27;, &#x27;disable colors in formatter output&#x27;)
      .option(&#x27;-p, --profile &#x3c;NAME&#x3e;&#x27;, &#x27;specify the profile to use (repeatable)&#x27;, collect, [])
      .option(&#x27;-r, --require &#x3c;FILE | DIR&#x3e;&#x27;, &#x27;require files before executing features (repeatable)&#x27;, collect, [])
      .option(&#x27;--snippet-interface [callback | generator | promise | synchronous]&#x27;, &#x27;specify a snippet interface&#x27;, &#x27;callback&#x27;)
      .option(&#x27;--snippet-syntax [&#x3c;FILE&#x3e;]&#x27;, &#x27;specify a custom snippet syntax&#x27;)
      .option(&#x27;-S, --strict&#x27;, &#x27;fail if there are any undefined or pending steps&#x27;)
      .option(&#x27;-t, --tags &#x3c;EXPRESSION&#x3e;&#x27;, &#x27;only execute the features or scenarios with tags matching the expression (repeatable)&#x27;,
collect, [])
      .option(&#x27;--world-parameters &#x3c;JSON&#x3e;&#x27;, &#x27;provide parameters that will be passed to the world constructor (repeatable)&#x27;, mergeWorldParametersJson
, {});

    program.on(&#x27;--help&#x27;, function(){
      console.log(&#x27;  For more details please visit https://github.com/cucumber/cucumber-js#cli\n&#x27;);
    });

    return program;
  }

  function getConfiguration() {
    var program = getProgram();
    program.parse(argv);
    var profileArgs = Cucumber.Cli.ProfilesLoader.getArgs(program.profile);
    if (profileArgs.length &#x3e; 0) {
      var fullArgs = argv.slice(0, 2).concat(profileArgs).concat(argv.slice(2));
      program = getProgram();
      program.parse(fullArgs);
    }
    var configuration = Cucumber.Cli.Configuration(program.opts(), program.args);
    return configuration;
  }

  var self = {
    run: function run(callback) {
      var configuration = getConfiguration();
      var runtime    = Cucumber.Runtime(configuration);
      var formatters = configuration.getFormatters();
      formatters.forEach(function (formatter) {
        runtime.attachListener(formatter);
      });
      runtime.start(callback);
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Listener" id="apidoc.element.cucumber.Listener">
        function <span class="apidocSignatureSpan">cucumber.</span>Listener
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Listener(options) {
  var Cucumber     = require(&#x27;../cucumber&#x27;);

  if (!options) {
    options = {};
  }

  var self = {
    hear: function hear(event, defaultTimeout, callback) {
      if (self.hasHandlerForEvent(event)) {
        var handler = self.getHandlerForEvent(event);
        var timeout = self.getTimeout() || defaultTimeout;
        Cucumber.Util.run(handler, null, [event.getPayload()], timeout, function(error) {
          error = self.prependLocationToError(error);
          callback(error);
        });
      } else {
        callback();
      }
    },

    hasHandlerForEvent: function hasHandlerForEvent(event) {
      var handlerName = self.buildHandlerNameForEvent(event);
      return self[handlerName] !== undefined;
    },

    buildHandlerNameForEvent: function buildHandlerNameForEvent(event) {
      return self.buildHandlerName(event.getName());
    },

    getHandlerForEvent: function getHandlerForEvent(event) {
      var eventHandlerName = self.buildHandlerNameForEvent(event);
      return self[eventHandlerName];
    },

    buildHandlerName: function buildHandler(shortName) {
      return Listener.EVENT_HANDLER_NAME_PREFIX + shortName + Listener.EVENT_HANDLER_NAME_SUFFIX;
    },

    setHandlerForEvent: function setHandlerForEvent(shortname, handler) {
      var eventName = self.buildHandlerName(shortname);
      self[eventName] = handler;
    },

    getTimeout: function() {
      return options.timeout;
    },

    getUri: function() {
      return options.uri;
    },

    getLine: function() {
      return options.line;
    },

    prependLocationToError: function(error) {
      if (error &#x26;&#x26; self.getUri()) {
        var ref = path.relative(process.cwd(), self.getUri()) + &#x27;:&#x27; + self.getLine() + &#x27; &#x27;;
        if (error instanceof Error) {
          error.message = ref + error.message;
        } else {
          error = ref + error;
        }
      }
      return error;
    },
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var Cucumber = require(&#x27;../../cucumber&#x27;);

if (!options)
  options = {};

var logs = &#x27;&#x27;;

var self = Cucumber.<span class="apidocCodeKeywordSpan">Listener</span>(options);

self.log = function log(string) {
  logs += string;
  if (options.stream)
    options.stream.write(string);
  if (typeof(options.logToFunction) === &#x27;function&#x27;)
    options.logToFunction(string);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Parser" id="apidoc.element.cucumber.Parser">
        function <span class="apidocSignatureSpan">cucumber.</span>Parser
        <span class="apidocSignatureSpan">(featureSources, astFilter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser(featureSources, astFilter) {
  var Gherkin      = require(&#x27;gherkin&#x27;);
  var Cucumber     = require(&#x27;../cucumber&#x27;);

  var parser = new Gherkin.Parser();
  var compiler = new Gherkin.Compiler();

  var self = {
    parse: function parse() {
      var features = [];

      featureSources.forEach(function (featureSource) {
        var uri    = featureSource[Parser.FEATURE_NAME_SOURCE_PAIR_URI_INDEX];
        var source = featureSource[Parser.FEATURE_NAME_SOURCE_PAIR_SOURCE_INDEX];

        var gherkinDocument;
        try {
          gherkinDocument = parser.parse(source);
        } catch(e) {
          e.message += &#x27;\npath: &#x27; + uri;
          throw e;
        }

        var pickles = compiler.compile(gherkinDocument);
        var scenarios = [];
        pickles.forEach(function (pickleData) {
          var scenario = Cucumber.Ast.Scenario(pickleData, uri);
          if (astFilter.isElementEnrolled(scenario)) {
            scenarios.push(scenario);
          }
        });

        if (scenarios.length &#x3e; 0) {
          features.push(Cucumber.Ast.Feature(gherkinDocument.feature, uri, scenarios));
        }
      });

      return features;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}).call(this,require(&#x27;_process&#x27;))

},{&#x22;../../cucumber&#x22;:&#x22;cucumber&#x22;,&#x22;_process&#x22;:173,&#x22;cli-table&#x22;:75,&#x22;duration&#x22;:102,&#
x22;lodash&#x22;:165,&#x22;path&#x22;:170}],35:[function(require,module,exports){
function Parser(featureSources, astFilter) {
  var Gherkin      = require(&#x27;gherkin&#x27;);
  var Cucumber     = require(&#x27;../cucumber&#x27;);

  var parser = new Gherkin.<span class="apidocCodeKeywordSpan">Parser</span>();
  var compiler = new Gherkin.Compiler();

  var self = {
    parse: function parse() {
var features = [];

featureSources.forEach(function (featureSource) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Runtime" id="apidoc.element.cucumber.Runtime">
        function <span class="apidocSignatureSpan">cucumber.</span>Runtime
        <span class="apidocSignatureSpan">(configuration)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Runtime(configuration) {
  var Cucumber = require(&#x27;../cucumber&#x27;);

  var listeners = [];

  var self = {
    start: function start(callback) {
      if (typeof(callback) !== &#x27;function&#x27;)
        throw new Error(Runtime.START_MISSING_CALLBACK_ERROR);

      var features = self.getFeatures();
      var supportCodeLibrary = self.getSupportCodeLibrary();
      var options = {
        dryRun: configuration.isDryRunRequested &#x26;&#x26; configuration.isDryRunRequested(),
        failFast: configuration.isFailFastRequested &#x26;&#x26; configuration.isFailFastRequested(),
        strict: configuration.isStrictRequested &#x26;&#x26; configuration.isStrictRequested(),
        worldParameters: configuration.getWorldParameters()
      };

      var featuresRunner = Runtime.FeaturesRunner(features, supportCodeLibrary, listeners, options);

      if (configuration.shouldFilterStackTraces())
        Runtime.StackTraceFilter.filter();

      featuresRunner.run(function (result) {
        Runtime.StackTraceFilter.unfilter();
        callback(result);
      });
    },

    attachListener: function attachListener(listener) {
      listeners.push(listener);
    },

    getFeatures: function getFeatures() {
      var featureSources = configuration.getFeatureSources();
      var astFilter      = configuration.getAstFilter();
      var parser         = Cucumber.Parser(featureSources, astFilter);
      var features       = parser.parse();
      return features;
    },

    getSupportCodeLibrary: function getSupportCodeLibrary() {
      var supportCodeLibrary = configuration.getSupportCodeLibrary();
      return supportCodeLibrary;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var configuration = Cucumber.Cli.Configuration(program.opts(), program.args);
  return configuration;
}

var self = {
  run: function run(callback) {
    var configuration = getConfiguration();
    var runtime    = Cucumber.<span class="apidocCodeKeywordSpan">Runtime</span>(configuration);
    var formatters = configuration.getFormatters();
    formatters.forEach(function (formatter) {
      runtime.attachListener(formatter);
    });
    runtime.start(callback);
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.SupportCode.StepDefinitionSnippetBuilder" id="apidoc.element.cucumber.SupportCode.StepDefinitionSnippetBuilder">
        function <span class="apidocSignatureSpan">cucumber.</span>SupportCode.StepDefinitionSnippetBuilder
        <span class="apidocSignatureSpan">(step, syntax)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StepDefinitionSnippetBuilder(step, syntax) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);

  var self = {
    buildSnippet: function buildSnippet() {
      var functionName = self.buildStepDefinitionFunctionName();
      var pattern      = self.buildStepDefinitionPattern();
      var parameters   = self.buildStepDefinitionParameters();
      var comment      = &#x27;Write code here that turns the phrase above into concrete actions&#x27;;
      return syntax.build(functionName, pattern, parameters, comment);
    },

    buildStepDefinitionFunctionName: function buildStepDefinitionFunctionName() {
      if (step.isOutcomeStep())
        return &#x27;Then&#x27;;
      else if (step.isEventStep())
        return &#x27;When&#x27;;
      else
        return &#x27;Given&#x27;;
    },

    buildStepDefinitionPattern: function buildStepDefinitionPattern() {
      var stepName              = step.getName();
      var escapedStepName       = Cucumber.Util.RegExp.escapeString(stepName);
      var parameterizedStepName = self.parameterizeStepName(escapedStepName);
      var pattern               = &#x27;/^&#x27; + parameterizedStepName + &#x27;$/&#x27;;
      return pattern;
    },

    buildStepDefinitionParameters: function buildStepDefinitionParameters() {
      var parameters = self.getStepDefinitionPatternMatchingGroupParameters();
      step.getArguments().forEach(function (arg) {
        switch (arg.getType()) {
          case &#x27;DataTable&#x27;:
            parameters.push(&#x27;table&#x27;);
            break;
          case &#x27;DocString&#x27;:
            parameters.push(&#x27;string&#x27;);
            break;
          default:
            throw new Error(&#x27;Unknown argument type:&#x27; + arg.getType());
        }
      });
      parameters.push(&#x27;callback&#x27;);
      return parameters;
    },

    getStepDefinitionPatternMatchingGroupParameters: function getStepDefinitionPatternMatchingGroupParameters() {
      var parameterCount = self.countStepDefinitionPatternMatchingGroups();
      var parameters = _.times(parameterCount, function (n) {
        return &#x27;arg&#x27; + (n + 1);
      });
      return parameters;
    },

    countStepDefinitionPatternMatchingGroups: function countStepDefinitionPatternMatchingGroups() {
      var stepDefinitionPattern    = self.buildStepDefinitionPattern();
      var numberMatchingGroupCount = Cucumber.Util.String.count(stepDefinitionPattern, NUMBER_MATCHING_GROUP);
      var quotedStringMatchingGroupCount = Cucumber.Util.String.count(stepDefinitionPattern, QUOTED_STRING_MATCHING_GROUP);
      var count = numberMatchingGroupCount + quotedStringMatchingGroupCount;
      return count;
    },

    parameterizeStepName: function parameterizeStepName(stepName) {
      var parameterizedStepName =
          stepName
          .replace(NUMBER_PATTERN, NUMBER_MATCHING_GROUP)
          .replace(QUOTED_STRING_PATTERN, QUOTED_STRING_MATCHING_GROUP);
      return parameterizedStepName;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var self = Cucumber.Listener.Formatter(options);
var snippets = [];

self.handleStepResultEvent = function handleStepResult(stepResult) {
  var status = stepResult.getStatus();
  if (status === Cucumber.Status.UNDEFINED) {
    var step = stepResult.getStep();
    var snippetBuilder = Cucumber.<span class="apidocCodeKeywordSpan">SupportCode.StepDefinitionSnippetBuilder</span>(step, options
.snippetSyntax);
    snippets.push(snippetBuilder.buildSnippet());
  }
};

self.handleFeaturesResultEvent = function handleFeaturesResultEvent(featuresResult, callback) {
  self.log(snippets.join(&#x27;\n\n&#x27;));
  self.finish(callback);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.TagGroupParser" id="apidoc.element.cucumber.TagGroupParser">
        function <span class="apidocSignatureSpan">cucumber.</span>TagGroupParser
        <span class="apidocSignatureSpan">(tagGroupString)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TagGroupParser(tagGroupString) {
  var self = {
    parse: function parse() {
      var splitTags = tagGroupString.split(TagGroupParser.TAG_SEPARATOR);
      var trimmedTags = splitTags.map(function (tag) { return tag.trim(); });
      return trimmedTags;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return self;
}

TagGroupParser.getTagGroupsFromStrings = function getTagGroupsFromStrings(tagGroupStrings) {
  var Cucumber = require(&#x27;../cucumber&#x27;);

  var tagGroups = tagGroupStrings.map(function (tagOptionValue) {
    var tagGroupParser = Cucumber.<span class="apidocCodeKeywordSpan">TagGroupParser</span>(tagOptionValue);
    var tagGroup       = tagGroupParser.parse();
    return tagGroup;
  });
  return tagGroups;
};

TagGroupParser.TAG_SEPARATOR = &#x27;,&#x27;;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Type.String" id="apidoc.element.cucumber.Type.String">
        function <span class="apidocSignatureSpan">cucumber.</span>Type.String
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function String() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.VolatileConfiguration" id="apidoc.element.cucumber.VolatileConfiguration">
        function <span class="apidocSignatureSpan">cucumber.</span>VolatileConfiguration
        <span class="apidocSignatureSpan">(features, supportCodeInitializer, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function VolatileConfiguration(features, supportCodeInitializer, options) {
  var Cucumber = require(&#x27;../cucumber&#x27;);
  var supportCodeLibrary = Cucumber.SupportCode.Library(supportCodeInitializer);

  options = options || {};
  var strictMode = !!options.strict;
  var tagGroupStrings = options.tags || [];
  var backtrace = !!options.backtrace;
  var worldParameters = options.worldParameters || {};

  var self = {
    isStrictRequested: function isStrictRequested() {
      return strictMode;
    },

    getFeatureSources: function getFeatureSources() {
      if (features.replace) { // single source
        var featureNameSourcePair = [VolatileConfiguration.FEATURE_SOURCE_NAME, features];
        return [featureNameSourcePair];
      } else { // multiple features
        return features;
      }
    },

    getAstFilter: function getAstFilter() {
      var tagRules = self.getTagAstFilterRules();
      var astFilter = Cucumber.Ast.Filter(tagRules);
      return astFilter;
    },

    getSupportCodeLibrary: function getSupportCodeLibrary() {
      return supportCodeLibrary;
    },

    getTagAstFilterRules: function getTagAstFilterRules() {
      var rules = [];
      tagGroupStrings.forEach(function (tagGroupString) {
        var rule = self.buildAstFilterRuleFromTagGroupString(tagGroupString);
        rules.push(rule);
      });
      return rules;
    },

    buildAstFilterRuleFromTagGroupString: function buildAstFilterRuleFromTagGroupString(tagGroupString) {
      var tagGroupParser = Cucumber.TagGroupParser(tagGroupString);
      var tagGroup       = tagGroupParser.parse();
      var rule           = Cucumber.Ast.Filter.AnyOfTagsRule(tagGroup);
      return rule;
    },

    shouldFilterStackTraces: function shouldFilterStackTraces() {
      return !backtrace;
    },

    getWorldParameters: function getWorldParameters() {
      return worldParameters;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    &#x22;lib/&#x22;,
    &#x22;release/&#x22;
  ]
}

},{}],&#x22;cucumber&#x22;:[function(require,module,exports){
function Cucumber(featureSource, supportCodeInitializer, options) {
  var configuration = Cucumber.<span class="apidocCodeKeywordSpan">VolatileConfiguration</span>(featureSource, supportCodeInitializer
, options);
  var runtime       = Cucumber.Runtime(configuration);
  return runtime;
}

Cucumber.Api                   = require(&#x27;./cucumber/api&#x27;);
Cucumber.Ast                   = require(&#x27;./cucumber/ast&#x27;);
Cucumber.Cli                   = require(&#x27;./cucumber/cli&#x27;);
...</pre></li>
    </ul>








































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Api" id="apidoc.module.cucumber.Api">module cucumber.Api</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Api.Scenario" id="apidoc.element.cucumber.Api.Scenario">
        function <span class="apidocSignatureSpan">cucumber.Api.</span>Scenario
        <span class="apidocSignatureSpan">(astScenario, scenarioResult)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Scenario(astScenario, scenarioResult) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);

  var attachments = [];

  function isStream(value) {
    return value &#x26;&#x26; typeof value === &#x27;object&#x27; &#x26;&#x26; typeof value.pipe === &#x27;function&#x27;;
  }

  function attachData(data, mimeType) {
    var attachment = Cucumber.Runtime.Attachment({mimeType: mimeType, data: data});
    attachments.push(attachment);
  }

  function attachStream(stream, mimeType, callback) {
    var buffers = [];

    stream.on(&#x27;data&#x27;, function (chunk) {
      buffers.push(chunk);
    });
    stream.on(&#x27;end&#x27;, function () {
      attachData(Buffer.concat(buffers), mimeType);
      callback();
    });
  }

  var self = {
    getKeyword:     function getKeyword()     { return astScenario.getKeyword(); },
    getName:        function getName()        { return astScenario.getName(); },
    getDescription: function getDescription() { return astScenario.getDescription(); },
    getUri:         function getUri()         { return astScenario.getUri(); },
    getLine:        function getLine()        { return astScenario.getLine(); },
    getTags:        function getTags()        { return astScenario.getTags(); },
    isSuccessful:   function isSuccessful()   { return scenarioResult.getStatus() === Cucumber.Status.PASSED; },
    isFailed:       function isFailed()       { return scenarioResult.getStatus() === Cucumber.Status.FAILED; },
    isPending:      function isPending()      { return scenarioResult.getStatus() === Cucumber.Status.PENDING; },
    isUndefined:    function isUndefined()    { return scenarioResult.getStatus() === Cucumber.Status.UNDEFINED; },
    isSkipped:      function isSkipped()      { return scenarioResult.getStatus() === Cucumber.Status.SKIPPED; },
    getException:   function getException()   { return scenarioResult.getFailureException(); },
    getAttachments: function getAttachments() { return attachments; },
    clearAttachments: function clearAttachments() { attachments = []; },

    attach: function attach(data, mimeType, callback) {
      if (isStream(data)) {
        if (!mimeType)
          throw Error(Scenario.ATTACH_MISSING_MIME_TYPE_ARGUMENT);
        if (!callback)
          throw Error(Scenario.ATTACH_MISSING_CALLBACK_ARGUMENT_FOR_STREAM_READABLE);

        attachStream(data, mimeType, callback);
      }
      else if (Buffer &#x26;&#x26; Buffer.isBuffer(data)) {
        if (!mimeType)
          throw Error(Scenario.ATTACH_MISSING_MIME_TYPE_ARGUMENT);

        attachData(data, mimeType);
        if (callback) callback();
      }
      else if (typeof(data) === &#x27;string&#x27;) {
        if (!mimeType)
          mimeType = Scenario.DEFAULT_TEXT_MIME_TYPE;

        attachData(data, mimeType);
        if (callback) callback();
      } else {
        throw Error(Scenario.ATTACH_INVALID_DATA_TYPE);
      }
    }
  };

  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  e.message += &#x27;\npath: &#x27; + uri;
  throw e;
}

var pickles = compiler.compile(gherkinDocument);
var scenarios = [];
pickles.forEach(function (pickleData) {
  var scenario = Cucumber.Ast.<span class="apidocCodeKeywordSpan">Scenario</span>(pickleData, uri);
  if (astFilter.isElementEnrolled(scenario)) {
    scenarios.push(scenario);
  }
});

if (scenarios.length &#x3e; 0) {
  features.push(Cucumber.Ast.Feature(gherkinDocument.feature, uri, scenarios));
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Ast" id="apidoc.module.cucumber.Ast">module cucumber.Ast</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Ast.DataTable" id="apidoc.element.cucumber.Ast.DataTable">
        function <span class="apidocSignatureSpan">cucumber.Ast.</span>DataTable
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DataTable(data) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);
  var _ = require(&#x27;lodash&#x27;);

  var rawTable = data.rows.map(function (row) {
    return row.cells.map(function (cell) {
      return cell.value;
    });
  });

  var self = {
    getType: function getType() {
      return &#x27;DataTable&#x27;;
    },

    rows: function rows() {
      var copy = self.raw();
      copy.shift();
      return copy;
    },

    rowsHash: function rowsHash() {
      var rows = self.raw();
      var everyRowHasTwoColumns = rows.every(function (row) {
        return row.length === 2;
      });

      if (!everyRowHasTwoColumns) {
        throw new Error(&#x27;rowsHash was called on a data table with more than two columns&#x27;);
      }

      return _.fromPairs(rows);
    },

    raw: function raw() {
      return rawTable.slice(0);
    },

    hashes: function hashes() {
      var raw              = self.raw();
      var hashDataTable    = Cucumber.Type.HashDataTable(raw);
      var rawHashDataTable = hashDataTable.raw();
      return rawHashDataTable;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var stepArguments = [];

if (data.arguments) {
  stepArguments = data.arguments.map(function (arg) {
    if (arg.hasOwnProperty(&#x27;content&#x27;)) {
      return Cucumber.Ast.DocString(arg);
    } else if (arg.hasOwnProperty(&#x27;rows&#x27;)) {
      return Cucumber.Ast.<span class="apidocCodeKeywordSpan">DataTable</span>(arg);
    } else {
      throw new Error(&#x27;Unknown step argument type: &#x27; + JSON.stringify(arg));
    }
  });
}

var self = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Ast.DocString" id="apidoc.element.cucumber.Ast.DocString">
        function <span class="apidocSignatureSpan">cucumber.Ast.</span>DocString
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DocString(data) {
  var self = {
    getType: function getType() {
      return &#x27;DocString&#x27;;
    },

    getContent: function getContent() {
      return data.content;
    },

    getContentType: function getContentType() {
      return data.contentType;
    },

    getLine: function getLine() {
      return data.location.line;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var previousStep, scenario;

var stepArguments = [];

if (data.arguments) {
  stepArguments = data.arguments.map(function (arg) {
    if (arg.hasOwnProperty(&#x27;content&#x27;)) {
      return Cucumber.Ast.<span class="apidocCodeKeywordSpan">DocString</span>(arg);
    } else if (arg.hasOwnProperty(&#x27;rows&#x27;)) {
      return Cucumber.Ast.DataTable(arg);
    } else {
      throw new Error(&#x27;Unknown step argument type: &#x27; + JSON.stringify(arg));
    }
  });
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Ast.Feature" id="apidoc.element.cucumber.Ast.Feature">
        function <span class="apidocSignatureSpan">cucumber.Ast.</span>Feature
        <span class="apidocSignatureSpan">(data, uri, scenarios)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Feature(data, uri, scenarios) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);
  var Gherkin = require(&#x27;gherkin&#x27;);
  var _ = require(&#x27;lodash&#x27;);

  var tags = [];
  if (data.tags) {
    tags = data.tags.map(function (tagData) {
      return Cucumber.Ast.Tag(tagData);
    });
  }

  var self = {
    getStepKeywordByLines: function getStepKeywordByLines(lines) {
      var steps = _.flatten(_.map(data.children, &#x27;steps&#x27;));
      var step = _.find(steps, function(node) {
        return _.includes(lines, node.location.line);
      });
      if (step) {
        return step.keyword;
      }
    },

    getScenarioDescriptionByLines: function getScenarioDescriptionByLines(lines) {
      var element = _.find(data.children, function(node) {
        return _.includes(lines, node.location.line);
      });
      if (element) {
        return element.description;
      }
    },

    getScenarioKeyword: function() {
      return Gherkin.DIALECTS[self.getLanguage()].scenario;
    },

    getKeyword: function getKeyword() {
      return data.keyword;
    },

    getLanguage: function getKeyword() {
      return data.language;
    },

    getName: function getName() {
      return data.name;
    },

    getDescription: function getDescription() {
      return data.description;
    },

    getUri: function getUri() {
      return uri;
    },

    getLine: function getLine() {
      return data.location.line;
    },

    getTags: function getTags() {
      return tags;
    },

    getScenarios: function getScenarios() {
      return scenarios;
    }
  };

  scenarios.forEach(function(scenario) {
    scenario.setFeature(self);
  });

  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        var scenario = Cucumber.Ast.Scenario(pickleData, uri);
        if (astFilter.isElementEnrolled(scenario)) {
          scenarios.push(scenario);
        }
      });

      if (scenarios.length &#x3e; 0) {
        features.push(Cucumber.Ast.<span class="apidocCodeKeywordSpan">Feature</span>(gherkinDocument.feature, uri, scenarios));
      }
    });

    return features;
  }
};
return self;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Ast.Filter" id="apidoc.element.cucumber.Ast.Filter">
        function <span class="apidocSignatureSpan">cucumber.Ast.</span>Filter
        <span class="apidocSignatureSpan">(rules)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Filter(rules) {
  var self = {
    isElementEnrolled: function isElementEnrolled(element) {
      var enrolled = _.every(rules, function (rule) {
        return rule.isSatisfiedByElement(element);
      });
      return enrolled;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var tagGroups = Cucumber.TagGroupParser.getTagGroupsFromStrings(options.tags);
  var tagRules = tagGroups.map(function (tags) {
     return Cucumber.Ast.Filter.AnyOfTagsRule(tags);
  });
  var lineRule = Cucumber.Ast.Filter.ScenarioAtLineRule(unexpandedFeaturePaths);
  var nameRule = Cucumber.Ast.Filter.AnyOfNamesRule(options.name);
  var rules = tagRules.concat([lineRule, nameRule]);
  return Cucumber.Ast.<span class="apidocCodeKeywordSpan">Filter</span>(rules);
},

getSupportCodeLibrary: function getSupportCodeLibrary() {
  var supportCodePaths = getSupportCodePaths();
  var compilerModules = getCompilerModules();
  var supportCodeLoader = Cucumber.Cli.SupportCodeLoader(supportCodePaths, compilerModules);
  return supportCodeLoader.getSupportCodeLibrary();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Ast.HookStep" id="apidoc.element.cucumber.Ast.HookStep">
        function <span class="apidocSignatureSpan">cucumber.Ast.</span>HookStep
        <span class="apidocSignatureSpan">(keyword)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function HookStep(keyword) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);
  var self = Cucumber.Ast.Step({});

  self.getKeyword = function getKeyword() {
    return keyword;
  };

  self.isHidden = function isHidden() {
    return true;
  };

  self.hasUri = function hasUri() {
    return false;
  };

  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
  );
},

runBeforeHooks: function runBeforeHooks(callback) {
  var beforeHooks = supportCodeLibrary.lookupBeforeHooksByScenario(scenario);
  Cucumber.Util.asyncForEach(beforeHooks, function(beforeHook, callback) {
    var beforeStep = Cucumber.Ast.<span class="apidocCodeKeywordSpan">HookStep</span>(Cucumber.Ast.HookStep.BEFORE_STEP_KEYWORD);
    beforeStep.setScenario(scenario);
    self.runHookStep(beforeStep, beforeHook, callback);
  }, callback);
},

runSteps: function runSteps(callback) {
  Cucumber.Util.asyncForEach(scenario.getSteps(), self.runStep, callback);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Ast.Scenario" id="apidoc.element.cucumber.Ast.Scenario">
        function <span class="apidocSignatureSpan">cucumber.Ast.</span>Scenario
        <span class="apidocSignatureSpan">(data, uri)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Scenario(data, uri) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);
  var _ = require(&#x27;lodash&#x27;);
  var feature, steps, tags = [];

  var self = {
    getName: function getName() {
      return data.name;
    },

    getKeyword: function getKeyword() {
      return self.getFeature().getScenarioKeyword();
    },

    getDescription: function getDescription() {
      return self.getFeature().getScenarioDescriptionByLines(self.getLines());
    },

    getFeature: function getFeature() {
      return feature;
    },

    setFeature: function setFeature(value) {
      feature = value;
    },

    getUri: function getUri() {
      return uri;
    },

    getLine: function getLine() {
      return _.first(self.getLines());
    },

    getLines: function getLines() {
      return _.map(data.locations, &#x27;line&#x27;);
    },

    getTags: function getTags() {
      return tags;
    },

    getSteps: function getSteps() {
      return steps;
    }
  };

  var previousStep;
  steps = data.steps.map(function (stepData) {
    var step = Cucumber.Ast.Step(stepData);
    step.setScenario(self);
    step.setPreviousStep(previousStep);
    previousStep = step;
    return step;
  });

  if (data.tags) {
    tags = data.tags.map(function (tagData) {
      return Cucumber.Ast.Tag(tagData);
    });
  }

  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  e.message += &#x27;\npath: &#x27; + uri;
  throw e;
}

var pickles = compiler.compile(gherkinDocument);
var scenarios = [];
pickles.forEach(function (pickleData) {
  var scenario = Cucumber.Ast.<span class="apidocCodeKeywordSpan">Scenario</span>(pickleData, uri);
  if (astFilter.isElementEnrolled(scenario)) {
    scenarios.push(scenario);
  }
});

if (scenarios.length &#x3e; 0) {
  features.push(Cucumber.Ast.Feature(gherkinDocument.feature, uri, scenarios));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Ast.Step" id="apidoc.element.cucumber.Ast.Step">
        function <span class="apidocSignatureSpan">cucumber.Ast.</span>Step
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Step(data) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);
  var Gherkin = require(&#x27;gherkin&#x27;);
  var _ = require(&#x27;lodash&#x27;);
  var previousStep, scenario;

  var stepArguments = [];

  if (data.arguments) {
    stepArguments = data.arguments.map(function (arg) {
      if (arg.hasOwnProperty(&#x27;content&#x27;)) {
        return Cucumber.Ast.DocString(arg);
      } else if (arg.hasOwnProperty(&#x27;rows&#x27;)) {
        return Cucumber.Ast.DataTable(arg);
      } else {
        throw new Error(&#x27;Unknown step argument type: &#x27; + JSON.stringify(arg));
      }
    });
  }

  var self = {
    getScenario: function getScenario() {
      return scenario;
    },

    setScenario: function setScenario(newScenario) {
      scenario = newScenario;
    },

    setPreviousStep: function setPreviousStep(newPreviousStep) {
      previousStep = newPreviousStep;
    },

    isHidden: function isHidden() {
      return false;
    },

    getName: function getName() {
      return data.text;
    },

    getKeyword: function getKeyword() {
      return self.getScenario().getFeature().getStepKeywordByLines(self.getLines());
    },

    hasUri: function hasUri() {
      return true;
    },

    getLine: function getLine() {
      return _.last(self.getLines());
    },

    getLines: function getLines() {
      return _.map(data.locations, &#x27;line&#x27;);
    },

    getUri: function getUri() {
      return self.getScenario().getUri();
    },

    getPreviousStep: function getPreviousStep() {
      return previousStep;
    },

    hasPreviousStep: function hasPreviousStep() {
      return !!previousStep;
    },

    getArguments: function getArguments() {
      return stepArguments;
    },

    isOutcomeStep: function isOutcomeStep() {
      return self.hasOutcomeStepKeyword() || self.isRepeatingOutcomeStep();
    },

    isEventStep: function isEventStep() {
      return self.hasEventStepKeyword() || self.isRepeatingEventStep();
    },

    hasOutcomeStepKeyword: function hasOutcomeStepKeyword() {
      var language = self.getScenario().getFeature().getLanguage();
      return _.chain(Gherkin.DIALECTS[language].then)
        .includes(self.getKeyword())
        .value();
    },

    hasEventStepKeyword: function hasEventStepKeyword() {
      var language = self.getScenario().getFeature().getLanguage();
      return _.chain(Gherkin.DIALECTS[language].when)
        .includes(self.getKeyword())
        .value();
    },

    isRepeatingOutcomeStep: function isRepeatingOutcomeStep() {
      return self.hasRepeatStepKeyword() &#x26;&#x26; self.isPrecededByOutcomeStep();
    },

    isRepeatingEventStep: function isRepeatingEventStep() {
      return self.hasRepeatStepKeyword() &#x26;&#x26; self.isPrecededByEventStep();
    },

    hasRepeatStepKeyword: function hasRepeatStepKeyword() {
      var language = self.getScenario().getFeature().getLanguage();
      return _.chain(Gherkin.DIALECTS[language].and)
        .concat(Gherkin.DIALECTS[language].but)
        .includes(self.getKeyword())
        .value();
    },

    isPrecededByOutcomeStep: function isPrecededByOutcomeStep() {
      var result = false;

      if (self.hasPreviousStep()) {
        var previousStep = self.getPreviousStep();
        result = previousStep.isOutcomeStep();
      }
      return result;
    },

    isPrecededByEventStep: function isPrecededByEventStep() {
      var result = false;

      if (self.hasPreviousStep()) {
        var previousStep = self.getPreviousStep();
        result = previousStep.isEventStep();
      }
      return result;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

module.exports = ScenarioAtLineRule;

},{&#x22;../../../cucumber&#x22;:&#x22;cucumber&#x22;,&#x22;fs&#x22;:72,&#x22;lodash&#x22;:165}],12:[function(require,module,exports
){
function HookStep(keyword) {
var Cucumber = require(&#x27;../../cucumber&#x27;);
var self = Cucumber.Ast.<span class="apidocCodeKeywordSpan">Step</span>({});

self.getKeyword = function getKeyword() {
  return keyword;
};

self.isHidden = function isHidden() {
  return true;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Ast.Tag" id="apidoc.element.cucumber.Ast.Tag">
        function <span class="apidocSignatureSpan">cucumber.Ast.</span>Tag
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Tag(data) {
  var self = {
    getName: function getName() {
      return data.name;
    },

    getLine: function getLine() {
      return data.location.line;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var Cucumber = require(&#x27;../../cucumber&#x27;);
var Gherkin = require(&#x27;gherkin&#x27;);
var _ = require(&#x27;lodash&#x27;);

var tags = [];
if (data.tags) {
  tags = data.tags.map(function (tagData) {
    return Cucumber.Ast.<span class="apidocCodeKeywordSpan">Tag</span>(tagData);
  });
}

var self = {
  getStepKeywordByLines: function getStepKeywordByLines(lines) {
    var steps = _.flatten(_.map(data.children, &#x27;steps&#x27;));
    var step = _.find(steps, function(node) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Ast.Filter" id="apidoc.module.cucumber.Ast.Filter">module cucumber.Ast.Filter</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Ast.Filter.Filter" id="apidoc.element.cucumber.Ast.Filter.Filter">
        function <span class="apidocSignatureSpan">cucumber.Ast.</span>Filter
        <span class="apidocSignatureSpan">(rules)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Filter(rules) {
  var self = {
    isElementEnrolled: function isElementEnrolled(element) {
      var enrolled = _.every(rules, function (rule) {
        return rule.isSatisfiedByElement(element);
      });
      return enrolled;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var tagGroups = Cucumber.TagGroupParser.getTagGroupsFromStrings(options.tags);
  var tagRules = tagGroups.map(function (tags) {
     return Cucumber.Ast.Filter.AnyOfTagsRule(tags);
  });
  var lineRule = Cucumber.Ast.Filter.ScenarioAtLineRule(unexpandedFeaturePaths);
  var nameRule = Cucumber.Ast.Filter.AnyOfNamesRule(options.name);
  var rules = tagRules.concat([lineRule, nameRule]);
  return Cucumber.Ast.<span class="apidocCodeKeywordSpan">Filter</span>(rules);
},

getSupportCodeLibrary: function getSupportCodeLibrary() {
  var supportCodePaths = getSupportCodePaths();
  var compilerModules = getCompilerModules();
  var supportCodeLoader = Cucumber.Cli.SupportCodeLoader(supportCodePaths, compilerModules);
  return supportCodeLoader.getSupportCodeLibrary();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Ast.Filter.AnyOfNamesRule" id="apidoc.element.cucumber.Ast.Filter.AnyOfNamesRule">
        function <span class="apidocSignatureSpan">cucumber.Ast.Filter.</span>AnyOfNamesRule
        <span class="apidocSignatureSpan">(names)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AnyOfNamesRule(names) {
  var self = {
    isSatisfiedByElement: function isSatisfiedByElement(element) {
      if (names.length === 0) {
        return true;
      }
      var satisfied = _.some(names, function (name) {
        return element.getName().match(name);
      });
      return satisfied;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

getAstFilter: function getAstFilter() {
  var tagGroups = Cucumber.TagGroupParser.getTagGroupsFromStrings(options.tags);
  var tagRules = tagGroups.map(function (tags) {
     return Cucumber.Ast.Filter.AnyOfTagsRule(tags);
  });
  var lineRule = Cucumber.Ast.Filter.ScenarioAtLineRule(unexpandedFeaturePaths);
  var nameRule = Cucumber.Ast.Filter.<span class="apidocCodeKeywordSpan">AnyOfNamesRule</span>(options.name);
  var rules = tagRules.concat([lineRule, nameRule]);
  return Cucumber.Ast.Filter(rules);
},

getSupportCodeLibrary: function getSupportCodeLibrary() {
  var supportCodePaths = getSupportCodePaths();
  var compilerModules = getCompilerModules();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Ast.Filter.AnyOfTagsRule" id="apidoc.element.cucumber.Ast.Filter.AnyOfTagsRule">
        function <span class="apidocSignatureSpan">cucumber.Ast.Filter.</span>AnyOfTagsRule
        <span class="apidocSignatureSpan">(tags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AnyOfTagsRule(tags) {
  var Cucumber = require(&#x27;../../../cucumber&#x27;);

  var self = {
    isSatisfiedByElement: function isSatisfiedByElement(element) {
      var satisfied = _.some(tags, function (tag) {
        var spec = Cucumber.Ast.Filter.ElementMatchingTagSpec(tag);
        return spec.isMatching(element);
      });
      return satisfied;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var featureSourceLoader = Cucumber.Cli.FeatureSourceLoader(expandedFeaturePaths);
  return featureSourceLoader.getSources();
},

getAstFilter: function getAstFilter() {
  var tagGroups = Cucumber.TagGroupParser.getTagGroupsFromStrings(options.tags);
  var tagRules = tagGroups.map(function (tags) {
     return Cucumber.Ast.Filter.<span class="apidocCodeKeywordSpan">AnyOfTagsRule</span>(tags);
  });
  var lineRule = Cucumber.Ast.Filter.ScenarioAtLineRule(unexpandedFeaturePaths);
  var nameRule = Cucumber.Ast.Filter.AnyOfNamesRule(options.name);
  var rules = tagRules.concat([lineRule, nameRule]);
  return Cucumber.Ast.Filter(rules);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Ast.Filter.ElementMatchingTagSpec" id="apidoc.element.cucumber.Ast.Filter.ElementMatchingTagSpec">
        function <span class="apidocSignatureSpan">cucumber.Ast.Filter.</span>ElementMatchingTagSpec
        <span class="apidocSignatureSpan">(tagName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ElementMatchingTagSpec(tagName) {
  var self = {
    isMatching: function isMatching(element) {
      var elementTags = element.getTags();
      var matching;
      if (self.isExpectingTag())
        matching = _.some(elementTags, self.isTagSatisfying);
      else
        matching = _.every(elementTags, self.isTagSatisfying);
      return matching;
    },

    isTagSatisfying: function isTagSatisfying(tag) {
      var checkedTagName = tag.getName();
      var satisfying;
      if (self.isExpectingTag())
        satisfying = checkedTagName === tagName;
      else {
        var negatedCheckedTagName = ElementMatchingTagSpec.NEGATION_CHARACTER + checkedTagName;
        satisfying = negatedCheckedTagName !== tagName;
      }
      return satisfying;
    },

    isExpectingTag: function isExpectingTag() {
      var expectingTag = tagName[0] !== ElementMatchingTagSpec.NEGATION_CHARACTER;
      return expectingTag;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

function AnyOfTagsRule(tags) {
  var Cucumber = require(&#x27;../../../cucumber&#x27;);

  var self = {
    isSatisfiedByElement: function isSatisfiedByElement(element) {
      var satisfied = _.some(tags, function (tag) {
        var spec = Cucumber.Ast.Filter.<span class="apidocCodeKeywordSpan">ElementMatchingTagSpec</span>(tag);
        return spec.isMatching(element);
      });
      return satisfied;
    }
  };
  return self;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Ast.Filter.ScenarioAtLineRule" id="apidoc.element.cucumber.Ast.Filter.ScenarioAtLineRule">
        function <span class="apidocSignatureSpan">cucumber.Ast.Filter.</span>ScenarioAtLineRule
        <span class="apidocSignatureSpan">(suppliedPaths)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ScenarioAtLineRule(suppliedPaths) {
  var Cucumber = require(&#x27;../../../cucumber&#x27;);
  var fs = require(&#x27;fs&#x27;);
  var _ = require(&#x27;lodash&#x27;);

  var mapping = {};
  suppliedPaths.forEach(function(path){
    var matches = Cucumber.Cli.Configuration.FEATURE_FILENAME_AND_LINENUM_REGEXP.exec(path);
    var specifiedLineNums = matches &#x26;&#x26; matches[2];
    if (specifiedLineNums) {
      var realPath = fs.realpathSync(matches[1]);
      if (!mapping[realPath]) {
        mapping[realPath] = [];
      }
      specifiedLineNums.split(&#x27;:&#x27;).forEach(function (lineNum) {
        mapping[realPath].push(parseInt(lineNum));
      });
    }
  });

  var self = {
    isSatisfiedByElement: function isSatisfiedByElement(element) {
      if (element.getUri &#x26;&#x26; element.getLines) {
        var lines = mapping[element.getUri()];
        if (lines) {
          return _.some(element.getLines(), function (line) {
            return _.includes(lines, line);
          });
        }
      }
      return true;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
},

getAstFilter: function getAstFilter() {
  var tagGroups = Cucumber.TagGroupParser.getTagGroupsFromStrings(options.tags);
  var tagRules = tagGroups.map(function (tags) {
     return Cucumber.Ast.Filter.AnyOfTagsRule(tags);
  });
  var lineRule = Cucumber.Ast.Filter.<span class="apidocCodeKeywordSpan">ScenarioAtLineRule</span>(unexpandedFeaturePaths);
  var nameRule = Cucumber.Ast.Filter.AnyOfNamesRule(options.name);
  var rules = tagRules.concat([lineRule, nameRule]);
  return Cucumber.Ast.Filter(rules);
},

getSupportCodeLibrary: function getSupportCodeLibrary() {
  var supportCodePaths = getSupportCodePaths();
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Cli" id="apidoc.module.cucumber.Cli">module cucumber.Cli</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Cli.Cli" id="apidoc.element.cucumber.Cli.Cli">
        function <span class="apidocSignatureSpan">cucumber.</span>Cli
        <span class="apidocSignatureSpan">(argv)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Cli(argv) {
  var Cucumber = require(&#x27;../cucumber&#x27;);
  var Command = require(&#x27;commander&#x27;).Command;
  var path = require(&#x27;path&#x27;);
  var _ = require(&#x27;lodash&#x27;);

  function mergeWorldParametersJson(str, memo) {
    var val;
    try {
      val = JSON.parse(str);
    } catch (error) {
      throw new Error(&#x27;--world-parameters passed invalid JSON: &#x27; + error.message + &#x27;: &#x27; + str);
    }
    if (!_.isPlainObject(val)) {
      throw new Error(&#x27;--world-parameters must be passed a JSON string of an object: &#x27; + str);
    }
    _.merge(memo, val);
    return memo;
  }

  function collect(val, memo) {
    memo.push(val);
    return memo;
  }

  function getProgram () {
    var program = new Command(path.basename(argv[1]));

    program
      .usage(&#x27;[options] [&#x3c;DIR | FILE[:LINE]&#x3e;...]&#x27;)
      .version(Cucumber.VERSION, &#x27;-v, --version&#x27;)
      .option(&#x27;-b, --backtrace&#x27;, &#x27;show full backtrace for errors&#x27;)
      .option(&#x27;--compiler &#x3c;EXTENSION:MODULE&#x3e;&#x27;, &#x27;require files with the given EXTENSION after requiring MODULE (repeatable)&#x27;, collect
, [])
      .option(&#x27;-d, --dry-run&#x27;, &#x27;invoke formatters without executing steps&#x27;)
      .option(&#x27;--fail-fast&#x27;, &#x27;abort the run on first failure&#x27;)
      .option(&#x27;-f, --format &#x3c;TYPE[:PATH]&#x3e;&#x27;, &#x27;specify the output format, optionally supply PATH to redirect formatter output (repeatable
)&#x27;, collect, [&#x27;pretty&#x27;])
      .option(&#x27;--name &#x3c;REGEXP&#x3e;&#x27;, &#x27;only execute the scenarios with name matching the expression (repeatable)&#x27;, collect, [])
      .option(&#x27;--no-colors&#x27;, &#x27;disable colors in formatter output&#x27;)
      .option(&#x27;-p, --profile &#x3c;NAME&#x3e;&#x27;, &#x27;specify the profile to use (repeatable)&#x27;, collect, [])
      .option(&#x27;-r, --require &#x3c;FILE | DIR&#x3e;&#x27;, &#x27;require files before executing features (repeatable)&#x27;, collect, [])
      .option(&#x27;--snippet-interface [callback | generator | promise | synchronous]&#x27;, &#x27;specify a snippet interface&#x27;, &#x27;callback&#x27;)
      .option(&#x27;--snippet-syntax [&#x3c;FILE&#x3e;]&#x27;, &#x27;specify a custom snippet syntax&#x27;)
      .option(&#x27;-S, --strict&#x27;, &#x27;fail if there are any undefined or pending steps&#x27;)
      .option(&#x27;-t, --tags &#x3c;EXPRESSION&#x3e;&#x27;, &#x27;only execute the features or scenarios with tags matching the expression (repeatable)&#x27;,
collect, [])
      .option(&#x27;--world-parameters &#x3c;JSON&#x3e;&#x27;, &#x27;provide parameters that will be passed to the world constructor (repeatable)&#x27;, mergeWorldParametersJson
, {});

    program.on(&#x27;--help&#x27;, function(){
      console.log(&#x27;  For more details please visit https://github.com/cucumber/cucumber-js#cli\n&#x27;);
    });

    return program;
  }

  function getConfiguration() {
    var program = getProgram();
    program.parse(argv);
    var profileArgs = Cucumber.Cli.ProfilesLoader.getArgs(program.profile);
    if (profileArgs.length &#x3e; 0) {
      var fullArgs = argv.slice(0, 2).concat(profileArgs).concat(argv.slice(2));
      program = getProgram();
      program.parse(fullArgs);
    }
    var configuration = Cucumber.Cli.Configuration(program.opts(), program.args);
    return configuration;
  }

  var self = {
    run: function run(callback) {
      var configuration = getConfiguration();
      var runtime    = Cucumber.Runtime(configuration);
      var formatters = configuration.getFormatters();
      formatters.forEach(function (formatter) {
        runtime.attachListener(formatter);
      });
      runtime.start(callback);
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Cli.Configuration" id="apidoc.element.cucumber.Cli.Configuration">
        function <span class="apidocSignatureSpan">cucumber.Cli.</span>Configuration
        <span class="apidocSignatureSpan">(options, args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Configuration(options, args) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);
  var path = require(&#x27;path&#x27;);
  var fs = require(&#x27;fs&#x27;);
  var _ = require(&#x27;lodash&#x27;);

  var unexpandedFeaturePaths = [&#x27;features&#x27;];
  if (args.length &#x3e; 0) {
    unexpandedFeaturePaths = [];
    args.forEach(function(arg) {
      var filename = path.basename(arg);
      if (filename[0] === &#x27;@&#x27;) {
        var content = fs.readFileSync(arg, &#x27;utf8&#x27;);
        unexpandedFeaturePaths = unexpandedFeaturePaths.concat(content.split(&#x27;\n&#x27;));
      } else {
        unexpandedFeaturePaths.push(arg);
      }
    });
  }

  var expandedFeaturePaths = Cucumber.Cli.FeaturePathExpander.expandPaths(unexpandedFeaturePaths);


  function getCompilerExtensions() {
    return options.compiler.map(function(compiler) {
      return compiler.split(&#x27;:&#x27;)[0];
    });
  }

  function getCompilerModules() {
    return options.compiler.map(function(compiler) {
      return compiler.split(&#x27;:&#x27;)[1];
    });
  }


  function getFeatureDirectoryPaths() {
    return expandedFeaturePaths.map(function (featurePath) {
      return path.dirname(featurePath);
    });
  }

  function getFormats() {
    var outputMapping = {};
    options.format.forEach(function (format) {
      var parts = format.split(&#x27;:&#x27;);
      var type = parts[0];
      var outputTo = parts.slice(1).join(&#x27;:&#x27;);
      outputMapping[outputTo] = type;
    });
    return _.map(outputMapping, function (type, outputTo) {
      var stream = process.stdout;
      if (outputTo) {
        var fd = fs.openSync(outputTo, &#x27;w&#x27;);
        stream = fs.createWriteStream(null, {fd: fd});
      }
      return {stream: stream, type: type};
    });
  }

  function getSnippetSyntax () {
    var builder = Cucumber.SupportCode.StepDefinitionSnippetBuilder.JavaScriptSyntax;
    if (options.snippetSyntax) {
      var snippetSyntaxPath = path.resolve(process.cwd(), options.snippetSyntax);
      builder = require(snippetSyntaxPath);
    }
    return builder(options.snippetInterface);
  }

  function getSupportCodePaths() {
    var unexpandedSupportCodePaths = options.require.length &#x3e; 0 ? options.require : getFeatureDirectoryPaths();
    var extensions = [&#x27;js&#x27;].concat(getCompilerExtensions());
    return Cucumber.Cli.SupportCodePathExpander.expandPaths(unexpandedSupportCodePaths, extensions);
  }

  var self = {

    getFormatters: function getFormatters() {
      var formats = getFormats();
      var snippetSyntax = getSnippetSyntax();
      var formatters = formats.map(function (format) {
        var formatterOptions = {
          snippetSyntax: snippetSyntax,
          stream: format.stream,
          useColors: options.colors
        };

        switch(format.type) {
          case &#x27;json&#x27;:
            return Cucumber.Listener.JsonFormatter(formatterOptions);
          case &#x27;progress&#x27;:
            return Cucumber.Listener.ProgressFormatter(formatterOptions);
          case &#x27;pretty&#x27;:
            return Cucumber.Listener.PrettyFormatter(formatterOptions);
          case &#x27;snippets&#x27;:
            return Cucumber.Listener.SnippetsFormatter(formatterOptions);
          case &#x27;summary&#x27;:
            return Cucumber.Listener.SummaryFormatter(formatterOptions);
          case &#x27;rerun&#x27;:
            return Cucumber.Listener.RerunFormatter(formatterOptions);
          default:
            throw new Error(&#x27;Unknown formatter name &#x22;&#x27; + format.type + &#x27;&#x22;.&#x27;);
        }
      });
      return formatters;
    },

    getFeatureSources: function getFeatureSources() {
      var featureSourceLoader = Cucumber.Cli.FeatureSourceLoader(expandedFeaturePaths);
      return featureSourceLoader.getSources();
    },

    getAstFilter: function getAstFilter() {
      var tagGroups = Cucumber.TagGroupParser.getTagGroupsFromStrings(options.tags);
      var tagRules = tagGroups.map(function (tags) {
         return Cucumber.Ast.Filter.AnyOfTagsRule(tags);
      });
      var lineRule = Cucumber.Ast.Filter.ScenarioAtLineRule(unexpandedFeaturePaths);
      var nameRule = Cucumber.Ast.Filter.AnyOfNamesRule(options.name);
      var rules = tagRules.concat([lineRule, nameRule]); ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  program.parse(argv);
  var profileArgs = Cucumber.Cli.ProfilesLoader.getArgs(program.profile);
  if (profileArgs.length &#x3e; 0) {
    var fullArgs = argv.slice(0, 2).concat(profileArgs).concat(argv.slice(2));
    program = getProgram();
    program.parse(fullArgs);
  }
  var configuration = Cucumber.Cli.<span class="apidocCodeKeywordSpan">Configuration</span>(program.opts(), program.args);
  return configuration;
}

var self = {
  run: function run(callback) {
    var configuration = getConfiguration();
    var runtime    = Cucumber.Runtime(configuration);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Cli.FeatureSourceLoader" id="apidoc.element.cucumber.Cli.FeatureSourceLoader">
        function <span class="apidocSignatureSpan">cucumber.Cli.</span>FeatureSourceLoader
        <span class="apidocSignatureSpan">(featureFilePaths)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FeatureSourceLoader(featureFilePaths) {
  var fs = require(&#x27;fs&#x27;);

  var self = {
    getSources: function getSources() {
      var sources = [];
      featureFilePaths.forEach(function (featureFilePath) {
        var source = fs.readFileSync(featureFilePath, &#x27;utf8&#x27;);
        sources.push([featureFilePath, source]);
      });
      return sources;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        throw new Error(&#x27;Unknown formatter name &#x22;&#x27; + format.type + &#x27;&#x22;.&#x27;);
    }
  });
  return formatters;
},

getFeatureSources: function getFeatureSources() {
  var featureSourceLoader = Cucumber.Cli.<span class="apidocCodeKeywordSpan">FeatureSourceLoader</span>(expandedFeaturePaths);
  return featureSourceLoader.getSources();
},

getAstFilter: function getAstFilter() {
  var tagGroups = Cucumber.TagGroupParser.getTagGroupsFromStrings(options.tags);
  var tagRules = tagGroups.map(function (tags) {
     return Cucumber.Ast.Filter.AnyOfTagsRule(tags);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Cli.SupportCodeLoader" id="apidoc.element.cucumber.Cli.SupportCodeLoader">
        function <span class="apidocSignatureSpan">cucumber.Cli.</span>SupportCodeLoader
        <span class="apidocSignatureSpan">(supportCodeFilePaths, compilerModules)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function SupportCodeLoader(supportCodeFilePaths, compilerModules) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);

  var self = {
    getSupportCodeLibrary: function getSupportCodeLibrary() {
      var supportCodeInitialiazer = self.getSupportCodeInitializer();
      var supportCodeLibrary      = Cucumber.SupportCode.Library(supportCodeInitialiazer);
      return supportCodeLibrary;
    },

    getSupportCodeInitializer: function getSupportCodeInitializer() {
      var primeSupportCodeInitializer     = self.getPrimeSupportCodeInitializer();
      var secondarySupportCodeInitializer = self.getSecondarySupportCodeInitializer();
      var initializer = function () {
        var supportCodeHelper = this;
        var userLandModulesPath = path.join(process.cwd(), &#x27;node_modules&#x27;);
        process.env.NODE_PATH += SupportCodeLoader.ENV_VAR_PATH_SEPARATOR + userLandModulesPath;
        require(&#x27;module&#x27;).Module._initPaths();
        compilerModules.forEach(require);
        primeSupportCodeInitializer.call(supportCodeHelper);
        secondarySupportCodeInitializer.call(supportCodeHelper);
      };
      return initializer;
    },

    getPrimeSupportCodeInitializer: function getPrimeSupportCodeInitializer() {
      var primeSupportCodeFilePaths   = self.getPrimeSupportCodeFilePaths();
      var primeSupportCodeInitializer = self.buildSupportCodeInitializerFromPaths(primeSupportCodeFilePaths);
      return primeSupportCodeInitializer;
     },

    getSecondarySupportCodeInitializer: function getSecondarySupportCodeBlocks() {
      var secondarySupportCodeFilePaths = self.getSecondarySupportCodeFilePaths();
      var secondarySupportCodeInitializer = self.buildSupportCodeInitializerFromPaths(secondarySupportCodeFilePaths);
      return secondarySupportCodeInitializer;
    },

    getPrimeSupportCodeFilePaths: function getPrimeSupportCodeFilePaths() {
      var primeSupportCodeFilePaths = [];
      supportCodeFilePaths.forEach(function (path) {
        if (path.match(SupportCodeLoader.PRIME_SUPPORT_CODE_PATH_REGEXP))
          primeSupportCodeFilePaths.push(path);
      });
      return primeSupportCodeFilePaths;
    },

    getSecondarySupportCodeFilePaths: function getSecondarySupportCodeFilePaths() {
      var secondarySupportCodeFilePaths = [];
      supportCodeFilePaths.forEach(function (path) {
        if (!path.match(SupportCodeLoader.PRIME_SUPPORT_CODE_PATH_REGEXP))
          secondarySupportCodeFilePaths.push(path);
      });
      return secondarySupportCodeFilePaths;
    },

    buildSupportCodeInitializerFromPaths: function buildSupportCodeInitializerFromPaths(paths) {
      var wrapper = function () {
        var supportCodeHelper = this;
        paths.forEach(function (path) {
          var initializer = require(path);
          if (typeof(initializer) === &#x27;function&#x27;) {
            initializer.call(supportCodeHelper);
          } else if (initializer.hasOwnProperty(&#x27;default&#x27;) &#x26;&#x26; typeof(initializer.default) === &#x27;function&#x27;) {
            initializer.default.call(supportCodeHelper);
          }
        });
      };
      return wrapper;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var rules = tagRules.concat([lineRule, nameRule]);
  return Cucumber.Ast.Filter(rules);
},

getSupportCodeLibrary: function getSupportCodeLibrary() {
  var supportCodePaths = getSupportCodePaths();
  var compilerModules = getCompilerModules();
  var supportCodeLoader = Cucumber.Cli.<span class="apidocCodeKeywordSpan">SupportCodeLoader</span>(supportCodePaths, compilerModules
);
  return supportCodeLoader.getSupportCodeLibrary();
},

getWorldParameters: function getWorldParameters() {
  return options.worldParameters;
},
...</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Cli.FeaturePathExpander" id="apidoc.module.cucumber.Cli.FeaturePathExpander">module cucumber.Cli.FeaturePathExpander</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Cli.FeaturePathExpander.expandPaths" id="apidoc.element.cucumber.Cli.FeaturePathExpander.expandPaths">
        function <span class="apidocSignatureSpan">cucumber.Cli.FeaturePathExpander.</span>expandPaths
        <span class="apidocSignatureSpan">(paths)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function expandPaths(paths) {
  var Cucumber     = require(&#x27;../../cucumber&#x27;);
  var PathExpander = Cucumber.Cli.PathExpander;

  paths = paths.map(function(path) {
    return path.replace(/(:\d+)*$/g, &#x27;&#x27;); // Strip line numbers
  });
  var expandedPaths = PathExpander.expandPathsWithExtensions(paths, [&#x27;feature&#x27;]);
  return expandedPaths;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      unexpandedFeaturePaths = unexpandedFeaturePaths.concat(content.split(&#x27;\n&#x27;));
    } else {
      unexpandedFeaturePaths.push(arg);
    }
  });
}

var expandedFeaturePaths = Cucumber.Cli.FeaturePathExpander.<span class="apidocCodeKeywordSpan">expandPaths</span>(unexpandedFeaturePaths
);


function getCompilerExtensions() {
  return options.compiler.map(function(compiler) {
    return compiler.split(&#x27;:&#x27;)[0];
  });
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Cli.PathExpander" id="apidoc.module.cucumber.Cli.PathExpander">module cucumber.Cli.PathExpander</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Cli.PathExpander.expandDirectoryWithExtensions" id="apidoc.element.cucumber.Cli.PathExpander.expandDirectoryWithExtensions">
        function <span class="apidocSignatureSpan">cucumber.Cli.PathExpander.</span>expandDirectoryWithExtensions
        <span class="apidocSignatureSpan">(realPath, extensions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function expandDirectoryWithExtensions(realPath, extensions) {
  var pattern = realPath + &#x27;/**/*.&#x27;;
  if (extensions.length &#x3e; 1) {
    pattern += &#x27;{&#x27; + extensions.join(&#x27;,&#x27;) + &#x27;}&#x27;;
  } else {
    pattern += extensions[0];
  }
  return glob.sync(pattern);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return _.uniq(_.flatten(expandedPaths));
},

expandPathWithExtensions: function expandPathWithExtensions(path, extensions) {
  var realPath = fs.realpathSync(path);
  var stats = fs.statSync(realPath);
  if (stats.isDirectory()) {
    return this.<span class="apidocCodeKeywordSpan">expandDirectoryWithExtensions</span>(realPath, extensions);
  } else {
    return [realPath];
  }
},

expandDirectoryWithExtensions: function expandDirectoryWithExtensions(realPath, extensions) {
  var pattern = realPath + &#x27;/**/*.&#x27;;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Cli.PathExpander.expandPathWithExtensions" id="apidoc.element.cucumber.Cli.PathExpander.expandPathWithExtensions">
        function <span class="apidocSignatureSpan">cucumber.Cli.PathExpander.</span>expandPathWithExtensions
        <span class="apidocSignatureSpan">(path, extensions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function expandPathWithExtensions(path, extensions) {
  var realPath = fs.realpathSync(path);
  var stats = fs.statSync(realPath);
  if (stats.isDirectory()) {
    return this.expandDirectoryWithExtensions(realPath, extensions);
  } else {
    return [realPath];
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var fs = require(&#x27;fs&#x27;);
var glob = require(&#x27;glob&#x27;);
var _ = require(&#x27;lodash&#x27;);

var PathExpander = {
expandPathsWithExtensions: function expandPathsWithExtensions(paths, extensions) {
  var expandedPaths = paths.map(function (path) {
    return PathExpander.<span class="apidocCodeKeywordSpan">expandPathWithExtensions</span>(path, extensions);
  });
  return _.uniq(_.flatten(expandedPaths));
},

expandPathWithExtensions: function expandPathWithExtensions(path, extensions) {
  var realPath = fs.realpathSync(path);
  var stats = fs.statSync(realPath);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Cli.PathExpander.expandPathsWithExtensions" id="apidoc.element.cucumber.Cli.PathExpander.expandPathsWithExtensions">
        function <span class="apidocSignatureSpan">cucumber.Cli.PathExpander.</span>expandPathsWithExtensions
        <span class="apidocSignatureSpan">(paths, extensions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function expandPathsWithExtensions(paths, extensions) {
  var expandedPaths = paths.map(function (path) {
    return PathExpander.expandPathWithExtensions(path, extensions);
  });
  return _.uniq(_.flatten(expandedPaths));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  expandPaths: function expandPaths(paths) {
    var Cucumber     = require(&#x27;../../cucumber&#x27;);
    var PathExpander = Cucumber.Cli.PathExpander;

    paths = paths.map(function(path) {
      return path.replace(/(:\d+)*$/g, &#x27;&#x27;); // Strip line numbers
    });
    var expandedPaths = PathExpander.<span class="apidocCodeKeywordSpan">expandPathsWithExtensions</span>(paths, [&#x27;feature&#
x27;]);
    return expandedPaths;
  }
};
module.exports = FeaturePathExpander;

},{&#x22;../../cucumber&#x22;:&#x22;cucumber&#x22;}],19:[function(require,module,exports){
function FeatureSourceLoader(featureFilePaths) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Cli.ProfilesLoader" id="apidoc.module.cucumber.Cli.ProfilesLoader">module cucumber.Cli.ProfilesLoader</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Cli.ProfilesLoader.getArgs" id="apidoc.element.cucumber.Cli.ProfilesLoader.getArgs">
        function <span class="apidocSignatureSpan">cucumber.Cli.ProfilesLoader.</span>getArgs
        <span class="apidocSignatureSpan">(profiles)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getArgs(profiles) {
  var definitions = getDefinitions();
  if (profiles.length === 0 &#x26;&#x26; definitions[&#x27;default&#x27;]) {
    profiles = [&#x27;default&#x27;];
  }
  var profilesArgs = profiles.map(function (profile){
    if (!definitions[profile]){
      throw new Error(&#x27;Undefined profile: &#x27; + profile);
    }
    return definitions[profile].split(/\s/);
  });
  return _.flatten(profilesArgs);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  return program;
}

function getConfiguration() {
  var program = getProgram();
  program.parse(argv);
  var profileArgs = Cucumber.Cli.ProfilesLoader.<span class="apidocCodeKeywordSpan">getArgs</span>(program.profile);
  if (profileArgs.length &#x3e; 0) {
    var fullArgs = argv.slice(0, 2).concat(profileArgs).concat(argv.slice(2));
    program = getProgram();
    program.parse(fullArgs);
  }
  var configuration = Cucumber.Cli.Configuration(program.opts(), program.args);
  return configuration;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Cli.SupportCodePathExpander" id="apidoc.module.cucumber.Cli.SupportCodePathExpander">module cucumber.Cli.SupportCodePathExpander</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Cli.SupportCodePathExpander.expandPaths" id="apidoc.element.cucumber.Cli.SupportCodePathExpander.expandPaths">
        function <span class="apidocSignatureSpan">cucumber.Cli.SupportCodePathExpander.</span>expandPaths
        <span class="apidocSignatureSpan">(paths, extensions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function expandPaths(paths, extensions) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);
  var PathExpander = Cucumber.Cli.PathExpander;

  var expandedPaths = PathExpander.expandPathsWithExtensions(paths, extensions);
  return expandedPaths;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      unexpandedFeaturePaths = unexpandedFeaturePaths.concat(content.split(&#x27;\n&#x27;));
    } else {
      unexpandedFeaturePaths.push(arg);
    }
  });
}

var expandedFeaturePaths = Cucumber.Cli.FeaturePathExpander.<span class="apidocCodeKeywordSpan">expandPaths</span>(unexpandedFeaturePaths
);


function getCompilerExtensions() {
  return options.compiler.map(function(compiler) {
    return compiler.split(&#x27;:&#x27;)[0];
  });
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Debug" id="apidoc.module.cucumber.Debug">module cucumber.Debug</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Debug.SimpleAstListener" id="apidoc.element.cucumber.Debug.SimpleAstListener">
        function <span class="apidocSignatureSpan">cucumber.Debug.</span>SimpleAstListener
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function SimpleAstListener(options) {
  var logs                        = &#x27;&#x27;;
  var failed                      = false;
  var beforeEachScenarioCallbacks = [];
  var currentFeature, currentStep;

  if (!options)
    options = {};

  function indent(text, indentation) {
    var indented;
    text.split(&#x27;\n&#x27;).forEach(function (line) {
      var prefix = new Array(indentation + 1).join(&#x27;  &#x27;);
      line = prefix + line;
      indented = (typeof(indented) === &#x27;undefined&#x27; ? line : indented + &#x27;\n&#x27; + line);
    });
    return indented;
  }

  function log(message, indentation) {
    if (indentation)
      message = indent(message, indentation);
    logs = logs + message + &#x27;\n&#x27;;
    if (options.stream)
      options.stream.write(message);
    if (typeof(options.logToFunction) === &#x27;function&#x27;)
      options.logToFunction (message);
  }

  var self = {
    hear: function hear(event, callback) {
      switch(event.getName()) {
      case &#x27;BeforeFeature&#x27;:
        self.hearBeforeFeature(event.getPayloadItem(&#x27;feature&#x27;), callback);
        break;
      case &#x27;BeforeScenario&#x27;:
        self.hearBeforeScenario(event.getPayloadItem(&#x27;scenario&#x27;), callback);
        break;
      case &#x27;BeforeStep&#x27;:
        self.hearBeforeStep(event.getPayloadItem(&#x27;step&#x27;), callback);
        break;
      case &#x27;StepResult&#x27;:
        self.hearStepResult(event.getPayloadItem(&#x27;stepResult&#x27;), callback);
        break;
      default:
        callback();
      }
    },

    hearBeforeFeature: function hearBeforeFeature(feature, callback) {
      currentFeature = feature;
      log(&#x27;Feature: &#x27; + feature.getName());
      var description = feature.getDescription();
      if (description !== &#x27;&#x27;)
        log(description, 1);
      callback();
    },

    hearBeforeScenario: function hearBeforeScenario(scenario, callback) {
      beforeEachScenarioCallbacks.forEach(function (func) {
        func();
      });
      log(&#x27;&#x27;);
      log(scenario.getName(), 1);
      callback();
    },

    hearBeforeStep: function hearBeforeStep(step, callback) {
      currentStep = step;
      currentStep =
      callback();
    },

    hearStepResult: function hearStepResult(stepResult, callback) {
      log(currentStep.getKeyword() + (currentStep.getName() || &#x27;&#x27;), 2);
      if (currentStep.hasDocString()) {
        log(&#x27;&#x22;&#x22;&#x22;&#x27;, 3);
        log(currentStep.getDocString().getContents(), 3);
        log(&#x27;&#x22;&#x22;&#x22;&#x27;, 3);
      }
      callback();
    },

    getLogs: function getLogs() {
      return logs;
    },

    featuresPassed: function featuresPassed() {
      return !failed;
    },

    beforeEachScenarioDo: function beforeEachScenarioDo(func) {
      beforeEachScenarioCallbacks.push(func);
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Debug.TODO" id="apidoc.element.cucumber.Debug.TODO">
        function <span class="apidocSignatureSpan">cucumber.Debug.</span>TODO
        <span class="apidocSignatureSpan">(description)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TODO(description) {
  return function () { throw(new Error(&#x27;IMPLEMENT ME: &#x27; + description)); };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Debug.isMessageLeveltoBeDisplayed" id="apidoc.element.cucumber.Debug.isMessageLeveltoBeDisplayed">
        function <span class="apidocSignatureSpan">cucumber.Debug.</span>isMessageLeveltoBeDisplayed
        <span class="apidocSignatureSpan">(level)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isMessageLeveltoBeDisplayed(level) {
  if (process.env) {
    level = level || 3; // default level
    return (level &#x3c;= process.env.DEBUG_LEVEL);
  } else {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
(function (process){
var Debug = {
TODO: function TODO(description) {
  return function () { throw(new Error(&#x27;IMPLEMENT ME: &#x27; + description)); };
},

warn: function warn(string, caption, level) {
  if (Debug.<span class="apidocCodeKeywordSpan">isMessageLeveltoBeDisplayed</span>(level))
    process.stdout.write(Debug.warningString(string, caption));
},

notice: function notice(string, caption, level) {
  if (Debug.isMessageLeveltoBeDisplayed(level))
    process.stdout.write(Debug.noticeString(string, caption));
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Debug.notice" id="apidoc.element.cucumber.Debug.notice">
        function <span class="apidocSignatureSpan">cucumber.Debug.</span>notice
        <span class="apidocSignatureSpan">(string, caption, level)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function notice(string, caption, level) {
  if (Debug.isMessageLeveltoBeDisplayed(level))
    process.stdout.write(Debug.noticeString(string, caption));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Debug.noticeString" id="apidoc.element.cucumber.Debug.noticeString">
        function <span class="apidocSignatureSpan">cucumber.Debug.</span>noticeString
        <span class="apidocSignatureSpan">(string, caption)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function noticeString(string, caption) {
  caption = caption || &#x27;debug-notice&#x27;;
  return &#x27;\x1B[30;46m&#x27; + caption + &#x27;:\x1B[0m \x1B[36m&#x27; + string + &#x27;\x1B[0m&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
warn: function warn(string, caption, level) {
  if (Debug.isMessageLeveltoBeDisplayed(level))
    process.stdout.write(Debug.warningString(string, caption));
},

notice: function notice(string, caption, level) {
  if (Debug.isMessageLeveltoBeDisplayed(level))
    process.stdout.write(Debug.<span class="apidocCodeKeywordSpan">noticeString</span>(string, caption));
},

warningString: function warningString(string, caption) {
  caption = caption || &#x27;debug-warning&#x27;;
  return &#x27;\x1B[30;43m&#x27; + caption + &#x27;:\x1B[0m[33m&#x27; + string + &#x27;\x1B[0m&#x27;;
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Debug.prefix" id="apidoc.element.cucumber.Debug.prefix">
        function <span class="apidocSignatureSpan">cucumber.Debug.</span>prefix
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function prefix() {
  return ;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Debug.warn" id="apidoc.element.cucumber.Debug.warn">
        function <span class="apidocSignatureSpan">cucumber.Debug.</span>warn
        <span class="apidocSignatureSpan">(string, caption, level)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function warn(string, caption, level) {
  if (Debug.isMessageLeveltoBeDisplayed(level))
    process.stdout.write(Debug.warningString(string, caption));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

function buildAfterEventName(eventName) {
  return Cucumber.Events.getAfterEvent(eventName);
}

payload.getPayloadItem = function getPayloadItem() {
  if (!deprecatedMessageDisplayed) {
    console.<span class="apidocCodeKeywordSpan">warn</span>(
      &#x27;cucumber event handlers attached via registerHandler are now passed the&#x27; +
      &#x27; associated object instead of an event&#x27; +
      &#x27;\ngetPayloadItem will be removed in the next major release&#x27;
    );
    deprecatedMessageDisplayed = true;
  }
  return payload;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Debug.warningString" id="apidoc.element.cucumber.Debug.warningString">
        function <span class="apidocSignatureSpan">cucumber.Debug.</span>warningString
        <span class="apidocSignatureSpan">(string, caption)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function warningString(string, caption) {
  caption = caption || &#x27;debug-warning&#x27;;
  return &#x27;\x1B[30;43m&#x27; + caption + &#x27;:\x1B[0m[33m&#x27; + string + &#x27;\x1B[0m&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var Debug = {
TODO: function TODO(description) {
  return function () { throw(new Error(&#x27;IMPLEMENT ME: &#x27; + description)); };
},

warn: function warn(string, caption, level) {
  if (Debug.isMessageLeveltoBeDisplayed(level))
    process.stdout.write(Debug.<span class="apidocCodeKeywordSpan">warningString</span>(string, caption));
},

notice: function notice(string, caption, level) {
  if (Debug.isMessageLeveltoBeDisplayed(level))
    process.stdout.write(Debug.noticeString(string, caption));
},
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Events" id="apidoc.module.cucumber.Events">module cucumber.Events</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Events.getAfterEvent" id="apidoc.element.cucumber.Events.getAfterEvent">
        function <span class="apidocSignatureSpan">cucumber.Events.</span>getAfterEvent
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getAfterEvent(name) {
  return AFTER_EVENT_NAME_PREFIX + name;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var Cucumber = require(&#x27;../../cucumber&#x27;);

function buildBeforeEventName(eventName) {
  return Cucumber.Events.getBeforeEvent(eventName);
}

function buildAfterEventName(eventName) {
  return Cucumber.Events.<span class="apidocCodeKeywordSpan">getAfterEvent</span>(eventName);
}

payload.getPayloadItem = function getPayloadItem() {
  if (!deprecatedMessageDisplayed) {
    console.warn(
      &#x27;cucumber event handlers attached via registerHandler are now passed the&#x27; +
      &#x27; associated object instead of an event&#x27; +
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Events.getBeforeEvent" id="apidoc.element.cucumber.Events.getBeforeEvent">
        function <span class="apidocSignatureSpan">cucumber.Events.</span>getBeforeEvent
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getBeforeEvent(name) {
  return BEFORE_EVENT_NAME_PREFIX + name;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
},{}],38:[function(require,module,exports){
var deprecatedMessageDisplayed = false;

function Event(name, payload) {
var Cucumber = require(&#x27;../../cucumber&#x27;);

function buildBeforeEventName(eventName) {
  return Cucumber.Events.<span class="apidocCodeKeywordSpan">getBeforeEvent</span>(eventName);
}

function buildAfterEventName(eventName) {
  return Cucumber.Events.getAfterEvent(eventName);
}

payload.getPayloadItem = function getPayloadItem() {
...</pre></li>
    </ul>


















</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Listener" id="apidoc.module.cucumber.Listener">module cucumber.Listener</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Listener.Listener" id="apidoc.element.cucumber.Listener.Listener">
        function <span class="apidocSignatureSpan">cucumber.</span>Listener
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Listener(options) {
  var Cucumber     = require(&#x27;../cucumber&#x27;);

  if (!options) {
    options = {};
  }

  var self = {
    hear: function hear(event, defaultTimeout, callback) {
      if (self.hasHandlerForEvent(event)) {
        var handler = self.getHandlerForEvent(event);
        var timeout = self.getTimeout() || defaultTimeout;
        Cucumber.Util.run(handler, null, [event.getPayload()], timeout, function(error) {
          error = self.prependLocationToError(error);
          callback(error);
        });
      } else {
        callback();
      }
    },

    hasHandlerForEvent: function hasHandlerForEvent(event) {
      var handlerName = self.buildHandlerNameForEvent(event);
      return self[handlerName] !== undefined;
    },

    buildHandlerNameForEvent: function buildHandlerNameForEvent(event) {
      return self.buildHandlerName(event.getName());
    },

    getHandlerForEvent: function getHandlerForEvent(event) {
      var eventHandlerName = self.buildHandlerNameForEvent(event);
      return self[eventHandlerName];
    },

    buildHandlerName: function buildHandler(shortName) {
      return Listener.EVENT_HANDLER_NAME_PREFIX + shortName + Listener.EVENT_HANDLER_NAME_SUFFIX;
    },

    setHandlerForEvent: function setHandlerForEvent(shortname, handler) {
      var eventName = self.buildHandlerName(shortname);
      self[eventName] = handler;
    },

    getTimeout: function() {
      return options.timeout;
    },

    getUri: function() {
      return options.uri;
    },

    getLine: function() {
      return options.line;
    },

    prependLocationToError: function(error) {
      if (error &#x26;&#x26; self.getUri()) {
        var ref = path.relative(process.cwd(), self.getUri()) + &#x27;:&#x27; + self.getLine() + &#x27; &#x27;;
        if (error instanceof Error) {
          error.message = ref + error.message;
        } else {
          error = ref + error;
        }
      }
      return error;
    },
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var Cucumber = require(&#x27;../../cucumber&#x27;);

if (!options)
  options = {};

var logs = &#x27;&#x27;;

var self = Cucumber.<span class="apidocCodeKeywordSpan">Listener</span>(options);

self.log = function log(string) {
  logs += string;
  if (options.stream)
    options.stream.write(string);
  if (typeof(options.logToFunction) === &#x27;function&#x27;)
    options.logToFunction(string);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Listener.Formatter" id="apidoc.element.cucumber.Listener.Formatter">
        function <span class="apidocSignatureSpan">cucumber.Listener.</span>Formatter
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Formatter(options) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);

  if (!options)
    options = {};

  var logs = &#x27;&#x27;;

  var self = Cucumber.Listener(options);

  self.log = function log(string) {
    logs += string;
    if (options.stream)
      options.stream.write(string);
    if (typeof(options.logToFunction) === &#x27;function&#x27;)
      options.logToFunction(string);
  };

  self.finish = function finish(callback) {
    if (options.stream &#x26;&#x26; options.stream !== process.stdout)
      options.stream.end(callback);
    else
      callback();
  };

  self.getLogs = function getLogs() {
    return logs;
  };

  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

},{&#x22;../../cucumber&#x22;:&#x22;cucumber&#x22;,&#x22;_process&#x22;:173}],29:[function(require,module,exports){
(function (Buffer){
/* jshint -W106 */
function JsonFormatter(options) {
var Cucumber = require(&#x27;../../cucumber&#x27;);

var self = Cucumber.Listener.<span class="apidocCodeKeywordSpan">Formatter</span>(options);

var features = [];
var currentFeature;
var currentScenario;

var formatTag = function formatTag(tag) {
  return {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Listener.JsonFormatter" id="apidoc.element.cucumber.Listener.JsonFormatter">
        function <span class="apidocSignatureSpan">cucumber.Listener.</span>JsonFormatter
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function JsonFormatter(options) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);

  var self = Cucumber.Listener.Formatter(options);

  var features = [];
  var currentFeature;
  var currentScenario;

  var formatTag = function formatTag(tag) {
    return {
      name: tag.getName(),
      line: tag.getLine()
    };
  };

  self.handleBeforeFeatureEvent = function handleBeforeFeatureEvent(feature) {
    currentFeature = {
      description: feature.getDescription(),
      elements: [],
      id: feature.getName().replace(/ /g, &#x27;-&#x27;).toLowerCase(),
      keyword: feature.getKeyword(),
      line: feature.getLine(),
      name: feature.getName(),
      tags: feature.getTags().map(formatTag),
      uri: feature.getUri()
    };
    features.push(currentFeature);
  };

  self.handleBeforeScenarioEvent = function handleBeforeScenarioEvent(scenario) {
    currentScenario = {
      description: scenario.getDescription(),
      id: currentFeature.id + &#x27;;&#x27; + scenario.getName().replace(/ /g, &#x27;-&#x27;).toLowerCase(),
      keyword: &#x27;Scenario&#x27;,
      line: scenario.getLine(),
      name: scenario.getName(),
      steps: [],
      tags: scenario.getTags().map(formatTag),
      type: &#x27;scenario&#x27;
    };
    currentFeature.elements.push(currentScenario);
  };

  self.handleStepResultEvent = function handleStepResultEvent(stepResult) {
    var step = stepResult.getStep();
    var status = stepResult.getStatus();

    var currentStep = {
      arguments: step.getArguments().map(function(arg) {
        switch (arg.getType()) {
          case &#x27;DataTable&#x27;:
            return {
              rows: arg.raw().map(function (row) {
                return { cells: row };
              })
            };
          case &#x27;DocString&#x27;:
            return {
              line: arg.getLine(),
              content: arg.getContent(),
              contentType: arg.getContentType()
            };
          default:
            throw new Error(&#x27;Unknown argument type:&#x27; + arg.getType());
        }
      }),
      keyword: step.getKeyword(),
      name: step.getName(),
      result: {
        status: status
      }
    };

    if (step.isHidden()) {
      currentStep.hidden = true;
    } else {
      currentStep.line = step.getLine();
    }

    if (status === Cucumber.Status.PASSED || status === Cucumber.Status.FAILED) {
      currentStep.result.duration = stepResult.getDuration();
    }

    if (stepResult.hasAttachments()) {
      currentStep.embeddings = stepResult.getAttachments().map(function (attachment) {
        var data = attachment.getData();
        if (!(data instanceof Buffer)) {
          data = new Buffer(data);
        }
        return {
          data: data.toString(&#x27;base64&#x27;),
          mime_type: attachment.getMimeType(),
        };
      });
    }

    if (status === Cucumber.Status.FAILED) {
      var failureMessage = stepResult.getFailureException();
      if (failureMessage) {
        currentStep.result.error_message = (failureMessage.stack || failureMessage);
      }
    }

    var stepDefinition = stepResult.getStepDefinition();
    if (stepDefinition) {
      var location = stepDefinition.getUri() + &#x27;:&#x27; + stepDefinition.getLine();
      currentStep.match = {location: location};
    }

    currentScenario.steps.push(currentStep);
  };

  self.handleAfterFeaturesEvent = function handleAfterFeaturesEvent(event, callback) {
    self.log(JSON.stringify(features, null, 2));
    self.finish(callback);
  };

  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  snippetSyntax: snippetSyntax,
  stream: format.stream,
  useColors: options.colors
};

switch(format.type) {
  case &#x27;json&#x27;:
    return Cucumber.Listener.<span class="apidocCodeKeywordSpan">JsonFormatter</span>(formatterOptions);
  case &#x27;progress&#x27;:
    return Cucumber.Listener.ProgressFormatter(formatterOptions);
  case &#x27;pretty&#x27;:
    return Cucumber.Listener.PrettyFormatter(formatterOptions);
  case &#x27;snippets&#x27;:
    return Cucumber.Listener.SnippetsFormatter(formatterOptions);
  case &#x27;summary&#x27;:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Listener.PrettyFormatter" id="apidoc.element.cucumber.Listener.PrettyFormatter">
        function <span class="apidocSignatureSpan">cucumber.Listener.</span>PrettyFormatter
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PrettyFormatter(options) {
  var Cucumber         = require(&#x27;../../cucumber&#x27;);
  var figures          = require(&#x27;figures&#x27;);

  var colors           = Cucumber.Util.Colors(options.useColors);
  var self             = Cucumber.Listener.Formatter(options);
  var summaryFormatter = Cucumber.Listener.SummaryFormatter({
    snippetSyntax: options.snippetSyntax,
    useColors: options.useColors
  });

  var parentHear = self.hear;
  self.hear = function hear(event, defaultTimeout, callback) {
    summaryFormatter.hear(event, defaultTimeout, function () {
      parentHear(event, defaultTimeout, callback);
    });
  };

  var characters = {};
  characters[Cucumber.Status.AMBIGUOUS] = figures.cross;
  characters[Cucumber.Status.FAILED] = figures.cross;
  characters[Cucumber.Status.PASSED] = figures.tick;
  characters[Cucumber.Status.PENDING] = &#x27;?&#x27;;
  characters[Cucumber.Status.SKIPPED] = &#x27;-&#x27;;
  characters[Cucumber.Status.UNDEFINED] = &#x27;?&#x27;;

  self.handleBeforeFeatureEvent = function handleBeforeFeatureEvent(feature) {
    var source = &#x27;&#x27;;

    var tagsSource = self.formatTags(feature.getTags());
    if (tagsSource) {
      source = tagsSource + &#x27;\n&#x27;;
    }

    var identifier = feature.getKeyword() + &#x27;: &#x27; + feature.getName();
    source += identifier;

    var description = feature.getDescription();
    if (description) {
      source += &#x27;\n\n&#x27; + self.indent(description, 1);
    }

    source += &#x27;\n\n&#x27;;

    self.log(source);
  };

  self.handleBeforeScenarioEvent = function handleBeforeScenarioEvent(scenario) {
    var source = &#x27;&#x27;;

    var tagsSource = self.formatTags(scenario.getTags());
    if (tagsSource) {
      source = tagsSource + &#x27;\n&#x27;;
    }

    var identifier = scenario.getKeyword() + &#x27;: &#x27; + scenario.getName();
    source += identifier;

    self.logIndented(source, 1);
    self.log(&#x27;\n&#x27;);
  };

  self.handleAfterScenarioEvent = function handleAfterScenarioEvent() {
    self.log(&#x27;\n&#x27;);
  };

  self.applyColor = function applyColor (stepResult, source) {
    var status = stepResult.getStatus();
    return colors[status](source);
  };

  self.getSymbol = function getSymbol (stepResult) {
    var status = stepResult.getStatus();
    return characters[status];
  };

  self.handleStepResultEvent = function handleStepResultEvent(stepResult) {
    var step = stepResult.getStep();
    if (!step.isHidden()) {
      self.logStepResult(step, stepResult);
    }
  };

  self.formatTags = function formatTags(tags) {
    if (tags.length === 0) {
      return &#x27;&#x27;;
    }

    var tagNames = tags.map(function (tag) {
      return tag.getName();
    });

    return colors.tag(tagNames.join(&#x27; &#x27;));
  };

  self.logStepResult = function logStepResult(step, stepResult) {
    var symbol = self.getSymbol(stepResult);
    var identifier = symbol + &#x27; &#x27; + step.getKeyword() + (step.getName() || &#x27;&#x27;);
    identifier = self.applyColor(stepResult, identifier);
    self.logIndented(identifier, 1);
    self.log(&#x27;\n&#x27;);

    step.getArguments().forEach(function (arg) {
      var str;
      switch(arg.getType()) {
        case &#x27;DataTable&#x27;:
          str = self.formatDataTable(stepResult, arg);
          break;
        case &#x27;DocString&#x27;:
          str = self.formatDocString(stepResult, arg);
          break;
        default:
          throw new Error(&#x27;Unknown argument type: &#x27; + arg.getType());
      }
      self.logIndented(str, 3);
    });
  };

  self.handleAfterFeaturesEvent = function handleAfterFeaturesEvent(features, callback) {
    var summaryLogs = summaryFormatter.getLogs();
    self.log(summaryLogs);
    self.finish(callback);
  };

  self.formatDataTable = function formatDataTable(stepResult, dataTable) {
    var rows = dataTable.raw().map(function (row) {
      return row.map(function (cell) {
        return cell
          .replace(/\\/g, &#x27;\\\\&#x27;)
          .replace(/\n/g, &#x27;\\n&#x27;);
      });
    });
    var columnWidths = self._determineColumnWidthsFromRows(rows);
    var source = &#x27;&#x27;;
    rows.forEach(function (row) {
      source += &#x27;|&#x27;;
      row.forEach(function (cell, columnIndex) {
        var columnWidth = columnWidths[columnIndex]; ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...

        switch(format.type) {
case &#x27;json&#x27;:
  return Cucumber.Listener.JsonFormatter(formatterOptions);
case &#x27;progress&#x27;:
  return Cucumber.Listener.ProgressFormatter(formatterOptions);
case &#x27;pretty&#x27;:
  return Cucumber.Listener.<span class="apidocCodeKeywordSpan">PrettyFormatter</span>(formatterOptions);
case &#x27;snippets&#x27;:
  return Cucumber.Listener.SnippetsFormatter(formatterOptions);
case &#x27;summary&#x27;:
  return Cucumber.Listener.SummaryFormatter(formatterOptions);
case &#x27;rerun&#x27;:
  return Cucumber.Listener.RerunFormatter(formatterOptions);
default:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Listener.ProgressFormatter" id="apidoc.element.cucumber.Listener.ProgressFormatter">
        function <span class="apidocSignatureSpan">cucumber.Listener.</span>ProgressFormatter
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ProgressFormatter(options) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);

  if (!options)
    options = {};

  var colors = Cucumber.Util.Colors(options.useColors);

  var self             = Cucumber.Listener.Formatter(options);
  var summaryFormatter = Cucumber.Listener.SummaryFormatter({
    snippetSyntax: options.snippetSyntax,
    useColors: options.useColors
  });

  var parentHear = self.hear;
  self.hear = function hear(event, defaultTimeout, callback) {
    summaryFormatter.hear(event, defaultTimeout, function () {
      parentHear(event, defaultTimeout, callback);
    });
  };

  var characters = {};
  characters[Cucumber.Status.AMBIGUOUS] = &#x27;A&#x27;;
  characters[Cucumber.Status.FAILED] = &#x27;F&#x27;;
  characters[Cucumber.Status.PASSED] = &#x27;.&#x27;;
  characters[Cucumber.Status.PENDING] = &#x27;P&#x27;;
  characters[Cucumber.Status.SKIPPED] = &#x27;-&#x27;;
  characters[Cucumber.Status.UNDEFINED] = &#x27;U&#x27;;

  self.handleStepResultEvent = function handleStepResult(stepResult) {
    var status = stepResult.getStatus();
    var step = stepResult.getStep();
    if (!step.isHidden() || status === Cucumber.Status.FAILED) {
      var character = colors[status](characters[status]);
      self.log(character);
    }
  };

  self.handleAfterFeaturesEvent = function handleAfterFeaturesEvent(features, callback) {
    var summaryLogs = summaryFormatter.getLogs();
    self.log(&#x27;\n\n&#x27;);
    self.log(summaryLogs);
    self.finish(callback);
  };

  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  useColors: options.colors
};

switch(format.type) {
  case &#x27;json&#x27;:
    return Cucumber.Listener.JsonFormatter(formatterOptions);
  case &#x27;progress&#x27;:
    return Cucumber.Listener.<span class="apidocCodeKeywordSpan">ProgressFormatter</span>(formatterOptions);
  case &#x27;pretty&#x27;:
    return Cucumber.Listener.PrettyFormatter(formatterOptions);
  case &#x27;snippets&#x27;:
    return Cucumber.Listener.SnippetsFormatter(formatterOptions);
  case &#x27;summary&#x27;:
    return Cucumber.Listener.SummaryFormatter(formatterOptions);
  case &#x27;rerun&#x27;:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Listener.RerunFormatter" id="apidoc.element.cucumber.Listener.RerunFormatter">
        function <span class="apidocSignatureSpan">cucumber.Listener.</span>RerunFormatter
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RerunFormatter(options) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);
  var path = require(&#x27;path&#x27;);
  var _ = require(&#x27;lodash&#x27;);

  var self = Cucumber.Listener.Formatter(options);
  var failures = {};


  self.handleScenarioResultEvent = function handleScenarioResultEvent(scenarioResult) {
    if (scenarioResult.getStatus() !== Cucumber.Status.PASSED) {
      var scenario = scenarioResult.getScenario();
      var uri = path.relative(process.cwd(), scenario.getUri());
      var line = scenario.getLine();
      if (!failures[uri]) {
        failures[uri] = [];
      }
      failures[uri].push(line);
    }
  };

  self.handleAfterFeaturesEvent = function handleAfterFeaturesEvent(features, callback) {
    var text = _.map(failures, function(lines, uri) {
      return uri + &#x27;:&#x27; + lines.join(&#x27;:&#x27;);
    }).join(&#x27;\n&#x27;);
    self.log(text);
    self.finish(callback);
  };

  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      case &#x27;pretty&#x27;:
        return Cucumber.Listener.PrettyFormatter(formatterOptions);
      case &#x27;snippets&#x27;:
        return Cucumber.Listener.SnippetsFormatter(formatterOptions);
      case &#x27;summary&#x27;:
        return Cucumber.Listener.SummaryFormatter(formatterOptions);
      case &#x27;rerun&#x27;:
        return Cucumber.Listener.<span class="apidocCodeKeywordSpan">RerunFormatter</span>(formatterOptions);
      default:
        throw new Error(&#x27;Unknown formatter name &#x22;&#x27; + format.type + &#x27;&#x22;.&#x27;);
    }
  });
  return formatters;
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Listener.SnippetsFormatter" id="apidoc.element.cucumber.Listener.SnippetsFormatter">
        function <span class="apidocSignatureSpan">cucumber.Listener.</span>SnippetsFormatter
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function SnippetsFormatter(options) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);

  var self = Cucumber.Listener.Formatter(options);
  var snippets = [];

  self.handleStepResultEvent = function handleStepResult(stepResult) {
    var status = stepResult.getStatus();
    if (status === Cucumber.Status.UNDEFINED) {
      var step = stepResult.getStep();
      var snippetBuilder = Cucumber.SupportCode.StepDefinitionSnippetBuilder(step, options.snippetSyntax);
      snippets.push(snippetBuilder.buildSnippet());
    }
  };

  self.handleFeaturesResultEvent = function handleFeaturesResultEvent(featuresResult, callback) {
    self.log(snippets.join(&#x27;\n\n&#x27;));
    self.finish(callback);
  };

  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  case &#x27;json&#x27;:
    return Cucumber.Listener.JsonFormatter(formatterOptions);
  case &#x27;progress&#x27;:
    return Cucumber.Listener.ProgressFormatter(formatterOptions);
  case &#x27;pretty&#x27;:
    return Cucumber.Listener.PrettyFormatter(formatterOptions);
  case &#x27;snippets&#x27;:
    return Cucumber.Listener.<span class="apidocCodeKeywordSpan">SnippetsFormatter</span>(formatterOptions);
  case &#x27;summary&#x27;:
    return Cucumber.Listener.SummaryFormatter(formatterOptions);
  case &#x27;rerun&#x27;:
    return Cucumber.Listener.RerunFormatter(formatterOptions);
  default:
    throw new Error(&#x27;Unknown formatter name &#x22;&#x27; + format.type + &#x27;&#x22;.&#x27;);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Listener.SummaryFormatter" id="apidoc.element.cucumber.Listener.SummaryFormatter">
        function <span class="apidocSignatureSpan">cucumber.Listener.</span>SummaryFormatter
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function SummaryFormatter(options) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);
  var Duration = require(&#x27;duration&#x27;);
  var Table    = require(&#x27;cli-table&#x27;);
  var path     = require(&#x27;path&#x27;);
  var _        = require(&#x27;lodash&#x27;);

  var failures = [];
  var warnings = [];
  var colors = Cucumber.Util.Colors(options.useColors);
  var statusReportOrder = [
    Cucumber.Status.FAILED,
    Cucumber.Status.AMBIGUOUS,
    Cucumber.Status.UNDEFINED,
    Cucumber.Status.PENDING,
    Cucumber.Status.SKIPPED,
    Cucumber.Status.PASSED
  ];

  function indent(text, level) {
    var indented;
    text.split(&#x27;\n&#x27;).forEach(function (line) {
      var prefix = new Array(level + 1).join(&#x27; &#x27;);
      line = (prefix + line).replace(/\s+$/, &#x27;&#x27;);
      indented = (typeof(indented) === &#x27;undefined&#x27; ? line : indented + &#x27;\n&#x27; + line);
    });
    return indented;
  }

  var self = Cucumber.Listener.Formatter(options);

  self.handleStepResultEvent = function handleStepResult(stepResult) {
    var status = stepResult.getStatus();
    switch (status) {
      case Cucumber.Status.AMBIGUOUS:
        self.storeAmbiguousStepResult(stepResult);
        break;
      case Cucumber.Status.FAILED:
        self.storeFailedStepResult(stepResult);
        break;
      case Cucumber.Status.UNDEFINED:
        self.storeUndefinedStepResult(stepResult);
        break;
      case Cucumber.Status.PENDING:
        self.storePendingStepResult(stepResult);
        break;
    }
  };

  self.handleFeaturesResultEvent = function handleFeaturesResultEvent(featuresResult, callback) {
    self.logSummary(featuresResult);
    self.finish(callback);
  };

  self.storeAmbiguousStepResult = function storeAmbiguousStepResult(stepResult) {
    var stepDefinitions = stepResult.getAmbiguousStepDefinitions();

    var table = new Table({
      chars: {
        &#x27;bottom&#x27;: &#x27;&#x27;, &#x27;bottom-left&#x27;: &#x27;&#x27;, &#x27;bottom-mid&#x27;: &#x27;&#x27;, &#x27;bottom-right&#x27;: &#x27;&#x27;,
        &#x27;left&#x27;: &#x27;&#x27;, &#x27;left-mid&#x27;: &#x27;&#x27;,
        &#x27;mid&#x27;: &#x27;&#x27;, &#x27;mid-mid&#x27;: &#x27;&#x27;,
        &#x27;middle&#x27;: &#x27; - &#x27;,
        &#x27;right&#x27;: &#x27;&#x27;, &#x27;right-mid&#x27;: &#x27;&#x27;,
        &#x27;top&#x27;: &#x27;&#x27; , &#x27;top-left&#x27;: &#x27;&#x27;, &#x27;top-mid&#x27;: &#x27;&#x27;, &#x27;top-right&#x27;: &#x27;&#x27;
      },
      style: {
        border: [], &#x27;padding-left&#x27;: 0, &#x27;padding-right&#x27;: 0
      }
    });
    table.push.apply(table, stepDefinitions.map(function (stepDefinition) {
      var pattern = stepDefinition.getPattern().toString();
      var relativeUri = path.relative(process.cwd(), stepDefinition.getUri());
      var line = stepDefinition.getLine();
      return [pattern, relativeUri + &#x27;:&#x27; + line];
    }));
    failures.push({
      stepResult: stepResult,
      message: &#x27;Multiple step definitions match:&#x27; + &#x27;\n&#x27; + indent(table.toString(), 2)
    });
  };

  self.storeFailedStepResult = function storeFailedStepResult(stepResult) {
    var failureException = stepResult.getFailureException();
    failures.push({
      stepResult: stepResult,
      message: failureException.stack || failureException
    });
  };

  self.storeUndefinedStepResult = function storeUndefinedStepResult(stepResult) {
    var step = stepResult.getStep();
    var snippetBuilder = Cucumber.SupportCode.StepDefinitionSnippetBuilder(step, options.snippetSyntax);
    var snippet = snippetBuilder.buildSnippet();
    warnings.push({
      stepResult: stepResult,
      message: &#x27;Undefined. Implement with the following snippet:&#x27; + &#x27;\n\n&#x27; + indent(snippet, 2)
    });
  };

  self.storePendingStepResult = function storePendingStepResult(stepResult) {
    var message = &#x27;Pending&#x27;;
    var pendingReason = stepResult.getPendingReason();
    if (pendingReason) {
      message += &#x27;: &#x27; + pendingReason;
    }
    warnings.push({
      stepResult: stepResult,
      message: message
    });
  };

  self.logSummary = function logSummary(featuresResult) {
    if (failures.length &#x3e; 0) {
      self.logFailures();
    }

    if (warnings.length &#x3e; 0) {
      self.logWarnings();
    }

    self.logScenariosSummary(featuresResult);
    self.logStepsSummary(featuresResult);
    self.logDuration(featuresResult);
  };

  self.logFailures = function logFailures() {
    self.log(&#x27;Failures:\n\n&#x27;);
    failures.forEach(func ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    case &#x27;progress&#x27;:
      return Cucumber.Listener.ProgressFormatter(formatterOptions);
    case &#x27;pretty&#x27;:
      return Cucumber.Listener.PrettyFormatter(formatterOptions);
    case &#x27;snippets&#x27;:
      return Cucumber.Listener.SnippetsFormatter(formatterOptions);
    case &#x27;summary&#x27;:
      return Cucumber.Listener.<span class="apidocCodeKeywordSpan">SummaryFormatter</span>(formatterOptions);
    case &#x27;rerun&#x27;:
      return Cucumber.Listener.RerunFormatter(formatterOptions);
    default:
      throw new Error(&#x27;Unknown formatter name &#x22;&#x27; + format.type + &#x27;&#x22;.&#x27;);
  }
});
return formatters;
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Runtime" id="apidoc.module.cucumber.Runtime">module cucumber.Runtime</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Runtime.Runtime" id="apidoc.element.cucumber.Runtime.Runtime">
        function <span class="apidocSignatureSpan">cucumber.</span>Runtime
        <span class="apidocSignatureSpan">(configuration)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Runtime(configuration) {
  var Cucumber = require(&#x27;../cucumber&#x27;);

  var listeners = [];

  var self = {
    start: function start(callback) {
      if (typeof(callback) !== &#x27;function&#x27;)
        throw new Error(Runtime.START_MISSING_CALLBACK_ERROR);

      var features = self.getFeatures();
      var supportCodeLibrary = self.getSupportCodeLibrary();
      var options = {
        dryRun: configuration.isDryRunRequested &#x26;&#x26; configuration.isDryRunRequested(),
        failFast: configuration.isFailFastRequested &#x26;&#x26; configuration.isFailFastRequested(),
        strict: configuration.isStrictRequested &#x26;&#x26; configuration.isStrictRequested(),
        worldParameters: configuration.getWorldParameters()
      };

      var featuresRunner = Runtime.FeaturesRunner(features, supportCodeLibrary, listeners, options);

      if (configuration.shouldFilterStackTraces())
        Runtime.StackTraceFilter.filter();

      featuresRunner.run(function (result) {
        Runtime.StackTraceFilter.unfilter();
        callback(result);
      });
    },

    attachListener: function attachListener(listener) {
      listeners.push(listener);
    },

    getFeatures: function getFeatures() {
      var featureSources = configuration.getFeatureSources();
      var astFilter      = configuration.getAstFilter();
      var parser         = Cucumber.Parser(featureSources, astFilter);
      var features       = parser.parse();
      return features;
    },

    getSupportCodeLibrary: function getSupportCodeLibrary() {
      var supportCodeLibrary = configuration.getSupportCodeLibrary();
      return supportCodeLibrary;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var configuration = Cucumber.Cli.Configuration(program.opts(), program.args);
  return configuration;
}

var self = {
  run: function run(callback) {
    var configuration = getConfiguration();
    var runtime    = Cucumber.<span class="apidocCodeKeywordSpan">Runtime</span>(configuration);
    var formatters = configuration.getFormatters();
    formatters.forEach(function (formatter) {
      runtime.attachListener(formatter);
    });
    runtime.start(callback);
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Runtime.Attachment" id="apidoc.element.cucumber.Runtime.Attachment">
        function <span class="apidocSignatureSpan">cucumber.Runtime.</span>Attachment
        <span class="apidocSignatureSpan">(payload)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Attachment(payload) {
  var self = {
    getMimeType:  function getMimeType()  { return payload.mimeType; },
    getData:      function getData()      { return payload.data; }
  };

  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var attachments = [];

  function isStream(value) {
return value &#x26;&#x26; typeof value === &#x27;object&#x27; &#x26;&#x26; typeof value.pipe === &#x27;function&#x27;;
  }

  function attachData(data, mimeType) {
var attachment = Cucumber.Runtime.<span class="apidocCodeKeywordSpan">Attachment</span>({mimeType: mimeType, data: data});
attachments.push(attachment);
  }

  function attachStream(stream, mimeType, callback) {
var buffers = [];

stream.on(&#x27;data&#x27;, function (chunk) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Runtime.Event" id="apidoc.element.cucumber.Runtime.Event">
        function <span class="apidocSignatureSpan">cucumber.Runtime.</span>Event
        <span class="apidocSignatureSpan">(name, payload)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Event(name, payload) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);

  function buildBeforeEventName(eventName) {
    return Cucumber.Events.getBeforeEvent(eventName);
  }

  function buildAfterEventName(eventName) {
    return Cucumber.Events.getAfterEvent(eventName);
  }

  payload.getPayloadItem = function getPayloadItem() {
    if (!deprecatedMessageDisplayed) {
      console.warn(
        &#x27;cucumber event handlers attached via registerHandler are now passed the&#x27; +
        &#x27; associated object instead of an event&#x27; +
        &#x27;\ngetPayloadItem will be removed in the next major release&#x27;
      );
      deprecatedMessageDisplayed = true;
    }
    return payload;
  };

  var self = {
    getName: function getName() {
      return name;
    },

    getPayload: function getPayload() {
      return payload;
    },

    replicateAsPreEvent: function replicateAsPreEvent() {
      var newName = buildBeforeEventName(name);
      return Cucumber.Runtime.Event(newName, payload);
    },

    replicateAsPostEvent: function replicateAsPostEvent() {
      var newName = buildAfterEventName(name);
      return Cucumber.Runtime.Event(newName, payload);
    },

    occurredOn: function occurredOn(eventName) {
      return eventName === name;
    },

    occurredAfter: function occurredAfter(eventName) {
      var afterEventName = buildAfterEventName(eventName);
      return afterEventName === name;
    }
  };

  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

getPayload: function getPayload() {
  return payload;
},

replicateAsPreEvent: function replicateAsPreEvent() {
  var newName = buildBeforeEventName(name);
  return Cucumber.Runtime.<span class="apidocCodeKeywordSpan">Event</span>(newName, payload);
},

replicateAsPostEvent: function replicateAsPostEvent() {
  var newName = buildAfterEventName(name);
  return Cucumber.Runtime.Event(newName, payload);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Runtime.EventBroadcaster" id="apidoc.element.cucumber.Runtime.EventBroadcaster">
        function <span class="apidocSignatureSpan">cucumber.Runtime.</span>EventBroadcaster
        <span class="apidocSignatureSpan">(listeners, listenerDefaultTimeout)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventBroadcaster(listeners, listenerDefaultTimeout) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);

  var self = {
    broadcastAroundEvent: function broadcastAroundEvent(event, userFunction, callback) {
      self.broadcastBeforeEvent(event, function() {
        userFunction(function() {
          var userFunctionCallbackArguments = arguments;
          self.broadcastAfterEvent(event, function() {
            callback.apply(null, userFunctionCallbackArguments);
          });
        });
      });
    },

    broadcastBeforeEvent: function broadcastBeforeEvent(event, callback) {
      var preEvent = event.replicateAsPreEvent();
      self.broadcastEvent(preEvent, callback);
    },

    broadcastAfterEvent: function broadcastAfterEvent(event, callback) {
      var postEvent = event.replicateAsPostEvent();
      self.broadcastEvent(postEvent, callback);
    },

    broadcastEvent: function broadcastEvent(event, callback) {
      Cucumber.Util.asyncForEach(listeners, function (listener, callback) {
        listener.hear(event, listenerDefaultTimeout, function(error) {
          if (error) {
            throw error;
          }
          callback();
        });
      }, callback);
    }
  };

  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
module.exports = FeaturesResult;

},{&#x22;../../cucumber&#x22;:&#x22;cucumber&#x22;,&#x22;lodash&#x22;:165}],41:[function(require,module,exports){
function FeaturesRunner(features, supportCodeLibrary, listeners, options) {
var Cucumber = require(&#x27;../../cucumber&#x27;);

var allListeners = listeners.concat(supportCodeLibrary.getListeners());
var eventBroadcaster = Cucumber.Runtime.<span class="apidocCodeKeywordSpan">EventBroadcaster</span>(allListeners, supportCodeLibrary
.getDefaultTimeout());
var featuresResult = Cucumber.Runtime.FeaturesResult(options.strict);

var self = {
  run: function run(callback) {
    var event = Cucumber.Runtime.Event(Cucumber.Events.FEATURES_EVENT_NAME, features);
    eventBroadcaster.broadcastAroundEvent(
      event,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Runtime.FeaturesResult" id="apidoc.element.cucumber.Runtime.FeaturesResult">
        function <span class="apidocSignatureSpan">cucumber.Runtime.</span>FeaturesResult
        <span class="apidocSignatureSpan">(strict)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FeaturesResult(strict) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);
  var _ = require(&#x27;lodash&#x27;);

  var duration = 0;
  var scenarioCounts = Cucumber.Status.getMapping(0);
  var stepCounts = Cucumber.Status.getMapping(0);

  var self = {
    getDuration: function getDuration() {
      return duration;
    },

    getScenarioCounts: function getScenarioCounts() {
      return _.clone(scenarioCounts);
    },

    getStepCounts: function getStepCounts() {
      return _.clone(stepCounts);
    },

    isSuccessful: function isSuccessful() {
      if (scenarioCounts[Cucumber.Status.FAILED] &#x3e; 0 || scenarioCounts[Cucumber.Status.AMBIGUOUS] &#x3e; 0) {
        return false;
      }
      if (strict &#x26;&#x26; (scenarioCounts[Cucumber.Status.PENDING] &#x3e; 0 || scenarioCounts[Cucumber.Status.UNDEFINED] &#x3e; 0)) {
        return false;
      }
      return true;
    },

    witnessScenarioResult: function witnessScenarioResult(scenarioResult) {
      duration += scenarioResult.getDuration();
      scenarioCounts[scenarioResult.getStatus()] += 1;
      _.mergeWith(stepCounts, scenarioResult.getStepCounts(), function(a, b) { return a + b; });
    }
  };

  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

},{&#x22;../../cucumber&#x22;:&#x22;cucumber&#x22;,&#x22;lodash&#x22;:165}],41:[function(require,module,exports){
function FeaturesRunner(features, supportCodeLibrary, listeners, options) {
var Cucumber = require(&#x27;../../cucumber&#x27;);

var allListeners = listeners.concat(supportCodeLibrary.getListeners());
var eventBroadcaster = Cucumber.Runtime.EventBroadcaster(allListeners, supportCodeLibrary.getDefaultTimeout());
var featuresResult = Cucumber.Runtime.<span class="apidocCodeKeywordSpan">FeaturesResult</span>(options.strict);

var self = {
  run: function run(callback) {
    var event = Cucumber.Runtime.Event(Cucumber.Events.FEATURES_EVENT_NAME, features);
    eventBroadcaster.broadcastAroundEvent(
      event,
      function (callback) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Runtime.FeaturesRunner" id="apidoc.element.cucumber.Runtime.FeaturesRunner">
        function <span class="apidocSignatureSpan">cucumber.Runtime.</span>FeaturesRunner
        <span class="apidocSignatureSpan">(features, supportCodeLibrary, listeners, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FeaturesRunner(features, supportCodeLibrary, listeners, options) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);

  var allListeners = listeners.concat(supportCodeLibrary.getListeners());
  var eventBroadcaster = Cucumber.Runtime.EventBroadcaster(allListeners, supportCodeLibrary.getDefaultTimeout());
  var featuresResult = Cucumber.Runtime.FeaturesResult(options.strict);

  var self = {
    run: function run(callback) {
      var event = Cucumber.Runtime.Event(Cucumber.Events.FEATURES_EVENT_NAME, features);
      eventBroadcaster.broadcastAroundEvent(
        event,
        function (callback) {
          Cucumber.Util.asyncForEach(features, self.runFeature, function() {
            self.broadcastFeaturesResult(callback);
          });
        },
        function() {
          callback(featuresResult.isSuccessful());
        }
      );
    },

    broadcastFeaturesResult: function visitFeaturesResult(callback) {
      var event = Cucumber.Runtime.Event(Cucumber.Events.FEATURES_RESULT_EVENT_NAME, featuresResult);
      eventBroadcaster.broadcastEvent(event, callback);
    },

    runFeature: function runFeature(feature, callback) {
      if (!featuresResult.isSuccessful() &#x26;&#x26; options.failFast) {
        return callback();
      }
      var event = Cucumber.Runtime.Event(Cucumber.Events.FEATURE_EVENT_NAME, feature);
      eventBroadcaster.broadcastAroundEvent(
        event,
        function (callback) {
          Cucumber.Util.asyncForEach(feature.getScenarios(), self.runScenario, callback);
        },
        callback
      );
    },

    runScenario: function runScenario(scenario, callback) {
      if (!featuresResult.isSuccessful() &#x26;&#x26; options.failFast) {
        return callback();
      }

      var scenarioRunner = Cucumber.Runtime.ScenarioRunner(scenario, supportCodeLibrary, eventBroadcaster, options);
      scenarioRunner.run(function(scenarioResult) {
        featuresResult.witnessScenarioResult(scenarioResult);
        callback();
      });
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var options = {
  dryRun: configuration.isDryRunRequested &#x26;&#x26; configuration.isDryRunRequested(),
  failFast: configuration.isFailFastRequested &#x26;&#x26; configuration.isFailFastRequested(),
  strict: configuration.isStrictRequested &#x26;&#x26; configuration.isStrictRequested(),
  worldParameters: configuration.getWorldParameters()
};

var featuresRunner = Runtime.<span class="apidocCodeKeywordSpan">FeaturesRunner</span>(features, supportCodeLibrary, listeners,
options);

if (configuration.shouldFilterStackTraces())
  Runtime.StackTraceFilter.filter();

featuresRunner.run(function (result) {
  Runtime.StackTraceFilter.unfilter();
  callback(result);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Runtime.ScenarioResult" id="apidoc.element.cucumber.Runtime.ScenarioResult">
        function <span class="apidocSignatureSpan">cucumber.Runtime.</span>ScenarioResult
        <span class="apidocSignatureSpan">(scenario)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ScenarioResult(scenario) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);
  var _ = require(&#x27;lodash&#x27;);

  var duration = 0;
  var status = Cucumber.Status.PASSED;
  var stepCounts = Cucumber.Status.getMapping(0);
  var failureException = null;

  var shouldUpdateStatus = function shouldUpdateStatus(stepStatus) {
    switch (stepStatus) {
      case Cucumber.Status.FAILED:
        return true;
      case Cucumber.Status.AMBIGUOUS:
      case Cucumber.Status.PENDING:
      case Cucumber.Status.SKIPPED:
      case Cucumber.Status.UNDEFINED:
        return status === Cucumber.Status.PASSED;
      default:
        return false;
    }
  };

  var self = {
    getDuration: function getDuration() {
      return duration;
    },

    getFailureException: function getFailureException() {
      return failureException;
    },

    getScenario: function getScenario() {
      return scenario;
    },

    getStepCounts: function getStepCounts() {
      return _.clone(stepCounts);
    },

    getStatus: function getStatus() {
      return status;
    },

    witnessStepResult: function witnessStepResult(stepResult) {
      var stepDuration = stepResult.getDuration();
      if (stepDuration) {
        duration += stepDuration;
      }
      var stepStatus = stepResult.getStatus();
      if (shouldUpdateStatus(stepStatus)) {
        status = stepStatus;
      }
      if (stepStatus === Cucumber.Status.FAILED) {
        failureException = stepResult.getFailureException();
      }
      var step = stepResult.getStep();
      if (!step.isHidden()) {
        stepCounts[stepStatus] += 1;
      }
    }
  };

  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
module.exports = ScenarioResult;

},{&#x22;../../cucumber&#x22;:&#x22;cucumber&#x22;,&#x22;lodash&#x22;:165}],43:[function(require,module,exports){
(function (process){
function ScenarioRunner(scenario, supportCodeLibrary, eventBroadcaster, options) {
var Cucumber = require(&#x27;../../cucumber&#x27;);

var scenarioResult = Cucumber.Runtime.<span class="apidocCodeKeywordSpan">ScenarioResult</span>(scenario);
var apiScenario = Cucumber.Api.Scenario(scenario, scenarioResult);
var defaultTimeout = supportCodeLibrary.getDefaultTimeout();
var world = supportCodeLibrary.instantiateNewWorld(options.worldParameters);

var self = {
  run: function run(callback) {
    var event = Cucumber.Runtime.Event(Cucumber.Events.SCENARIO_EVENT_NAME, scenario);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Runtime.ScenarioRunner" id="apidoc.element.cucumber.Runtime.ScenarioRunner">
        function <span class="apidocSignatureSpan">cucumber.Runtime.</span>ScenarioRunner
        <span class="apidocSignatureSpan">(scenario, supportCodeLibrary, eventBroadcaster, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ScenarioRunner(scenario, supportCodeLibrary, eventBroadcaster, options) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);

  var scenarioResult = Cucumber.Runtime.ScenarioResult(scenario);
  var apiScenario = Cucumber.Api.Scenario(scenario, scenarioResult);
  var defaultTimeout = supportCodeLibrary.getDefaultTimeout();
  var world = supportCodeLibrary.instantiateNewWorld(options.worldParameters);

  var self = {
    run: function run(callback) {
      var event = Cucumber.Runtime.Event(Cucumber.Events.SCENARIO_EVENT_NAME, scenario);
      eventBroadcaster.broadcastAroundEvent(
        event,
        function (callback) {
          self.runBeforeHooks(function () {
            self.runSteps(function() {
              self.runAfterHooks(function(){
                self.broadcastScenarioResult(callback);
              });
            });
          });
        },
        function() {
          callback(scenarioResult);
        }
      );
    },

    runBeforeHooks: function runBeforeHooks(callback) {
      var beforeHooks = supportCodeLibrary.lookupBeforeHooksByScenario(scenario);
      Cucumber.Util.asyncForEach(beforeHooks, function(beforeHook, callback) {
        var beforeStep = Cucumber.Ast.HookStep(Cucumber.Ast.HookStep.BEFORE_STEP_KEYWORD);
        beforeStep.setScenario(scenario);
        self.runHookStep(beforeStep, beforeHook, callback);
      }, callback);
    },

    runSteps: function runSteps(callback) {
      Cucumber.Util.asyncForEach(scenario.getSteps(), self.runStep, callback);
    },

    runAfterHooks: function runAfterHooks(callback) {
      var afterHooks = supportCodeLibrary.lookupAfterHooksByScenario(scenario).reverse();
      Cucumber.Util.asyncForEach(afterHooks, function(afterHook, callback) {
        var afterStep = Cucumber.Ast.HookStep(Cucumber.Ast.HookStep.AFTER_STEP_KEYWORD);
        afterStep.setScenario(scenario);
        self.runHookStep(afterStep, afterHook, callback);
      }, callback);
    },

    broadcastScenarioResult: function broadcastScenarioResult(callback) {
      var event = Cucumber.Runtime.Event(Cucumber.Events.SCENARIO_RESULT_EVENT_NAME, scenarioResult);
      eventBroadcaster.broadcastEvent(event, callback);
    },

    runStep: function runStep(step, callback) {
      var event = Cucumber.Runtime.Event(Cucumber.Events.STEP_EVENT_NAME, step);
      eventBroadcaster.broadcastAroundEvent(
        event,
        function (callback) {
          process.nextTick(function() {
            self.processStep(step, callback);
          });
        },
        callback
      );
    },

    runHookStep: function(step, hook, callback) {
      var event = Cucumber.Runtime.Event(Cucumber.Events.STEP_EVENT_NAME, step);
      eventBroadcaster.broadcastAroundEvent(
        event,
        function (callback) {
          if (options.dryRun) {
            self.skipStep(step, hook, callback);
          } else {
            self.executeStep(step, hook, callback);
          }
        },
        callback
      );
    },

    broadcastStepResult: function broadcastStepResult(stepResult, callback) {
      scenarioResult.witnessStepResult(stepResult);
      var event = Cucumber.Runtime.Event(Cucumber.Events.STEP_RESULT_EVENT_NAME, stepResult);
      eventBroadcaster.broadcastEvent(event, callback);
    },

    isSkippingSteps: function isSkippingSteps() {
      return scenarioResult.getStatus() !== Cucumber.Status.PASSED;
    },

    processStep: function processStep(step, callback) {
      var stepName = step.getName();
      var stepDefinitions = supportCodeLibrary.lookupStepDefinitionsByName(stepName);
      if (stepDefinitions.length === 0) {
        self.skipUndefinedStep(step, callback);
      } else if (stepDefinitions.length &#x3e; 1) {
        self.skipAmbiguousStep(step, stepDefinitions, callback);
      } else if (options.dryRun || self.isSkippingSteps()) {
        self.skipStep(step, stepDefinitions[0], callback);
      } else {
        self.executeStep(step, stepDefinitions[0], callback);
      }
    },

    executeStep: function executeStep(step, stepDefinition, callback) {
      stepDefin ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  },

  runScenario: function runScenario(scenario, callback) {
    if (!featuresResult.isSuccessful() &#x26;&#x26; options.failFast) {
      return callback();
    }

    var scenarioRunner = Cucumber.Runtime.<span class="apidocCodeKeywordSpan">ScenarioRunner</span>(scenario, supportCodeLibrary
, eventBroadcaster, options);
    scenarioRunner.run(function(scenarioResult) {
      featuresResult.witnessScenarioResult(scenarioResult);
      callback();
    });
  }
};
return self;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Runtime.StepResult" id="apidoc.element.cucumber.Runtime.StepResult">
        function <span class="apidocSignatureSpan">cucumber.Runtime.</span>StepResult
        <span class="apidocSignatureSpan">(payload)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StepResult(payload) {
  var self = {
    getAmbiguousStepDefinitions: function getAmbiguousStepDefinitions() {
      return payload.ambiguousStepDefinitions;
    },

    getAttachments: function getAttachments() {
      return payload.attachments;
    },

    getDuration: function getDuration() {
      return payload.duration;
    },

    getFailureException: function getFailureException() {
      return payload.failureException;
    },

    getPendingReason: function getPendingReason() {
      return payload.pendingReason;
    },

    getStep: function getStep() {
      return payload.step;
    },

    getStepDefinition: function getStepDefinition() {
      return payload.stepDefinition;
    },

    getStatus: function getStatus() {
      return payload.status;
    },

    hasAttachments: function hasAttachments() {
      return payload.attachments &#x26;&#x26; payload.attachments.length &#x3e; 0;
    }
  };

  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  stepDefinition.invoke(step, world, apiScenario, defaultTimeout, function (stepResult) {
    apiScenario.clearAttachments();
    self.broadcastStepResult(stepResult, callback);
  });
},

skipAmbiguousStep: function skipAmbiguousStep(step, stepDefinitions, callback) {
  var ambiguousStepResult = Cucumber.Runtime.<span class="apidocCodeKeywordSpan">StepResult</span>({
    ambiguousStepDefinitions: stepDefinitions,
    step: step,
    status: Cucumber.Status.AMBIGUOUS
  });
  self.broadcastStepResult(ambiguousStepResult, callback);
},
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Runtime.StackTraceFilter" id="apidoc.module.cucumber.Runtime.StackTraceFilter">module cucumber.Runtime.StackTraceFilter</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Runtime.StackTraceFilter.filter" id="apidoc.element.cucumber.Runtime.StackTraceFilter.filter">
        function <span class="apidocSignatureSpan">cucumber.Runtime.StackTraceFilter.</span>filter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function filter() {
  currentFilter = chain.filter.attach(function (error, frames) {
    if (frames.length &#x3e; 0 &#x26;&#x26; isFrameInCucumber(frames[0])) {
      return frames;
    }
    return frames.filter(_.negate(isFrameInCucumber));
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    strict: configuration.isStrictRequested &#x26;&#x26; configuration.isStrictRequested(),
    worldParameters: configuration.getWorldParameters()
  };

  var featuresRunner = Runtime.FeaturesRunner(features, supportCodeLibrary, listeners, options);

  if (configuration.shouldFilterStackTraces())
    Runtime.StackTraceFilter.<span class="apidocCodeKeywordSpan">filter</span>();

  featuresRunner.run(function (result) {
    Runtime.StackTraceFilter.unfilter();
    callback(result);
  });
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Runtime.StackTraceFilter.unfilter" id="apidoc.element.cucumber.Runtime.StackTraceFilter.unfilter">
        function <span class="apidocSignatureSpan">cucumber.Runtime.StackTraceFilter.</span>unfilter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function unfilter() {
  chain.filter.deattach(currentFilter);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  var featuresRunner = Runtime.FeaturesRunner(features, supportCodeLibrary, listeners, options);

  if (configuration.shouldFilterStackTraces())
    Runtime.StackTraceFilter.filter();

  featuresRunner.run(function (result) {
    Runtime.StackTraceFilter.<span class="apidocCodeKeywordSpan">unfilter</span>();
    callback(result);
  });
},

attachListener: function attachListener(listener) {
  listeners.push(listener);
},
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Status" id="apidoc.module.cucumber.Status">module cucumber.Status</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Status.getMapping" id="apidoc.element.cucumber.Status.getMapping">
        function <span class="apidocSignatureSpan">cucumber.Status.</span>getMapping
        <span class="apidocSignatureSpan">(initialValue)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getMapping(initialValue) {
  var statuses = [
    Status.AMBIGUOUS,
    Status.FAILED,
    Status.PASSED,
    Status.PENDING,
    Status.SKIPPED,
    Status.UNDEFINED
  ];
  var counts = {};
  statuses.forEach(function (status) {
    counts[status] = initialValue;
  });
  return counts;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

},{&#x22;../../cucumber&#x22;:&#x22;cucumber&#x22;}],40:[function(require,module,exports){
function FeaturesResult(strict) {
var Cucumber = require(&#x27;../../cucumber&#x27;);
var _ = require(&#x27;lodash&#x27;);

var duration = 0;
var scenarioCounts = Cucumber.Status.<span class="apidocCodeKeywordSpan">getMapping</span>(0);
var stepCounts = Cucumber.Status.getMapping(0);

var self = {
  getDuration: function getDuration() {
    return duration;
  },
...</pre></li>
    </ul>














</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.SupportCode" id="apidoc.module.cucumber.SupportCode">module cucumber.SupportCode</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.SupportCode.Hook" id="apidoc.element.cucumber.SupportCode.Hook">
        function <span class="apidocSignatureSpan">cucumber.SupportCode.</span>Hook
        <span class="apidocSignatureSpan">(code, options, uri, line)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Hook(code, options, uri, line) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);
  var self = Cucumber.SupportCode.StepDefinition(Hook.EMPTY_PATTERN, options, code, uri, line);
  var tags = options.tags || [];

  self.buildInvocationParameters = function buildInvocationParameters(step, scenario) {
    return [scenario];
  };

  self.appliesToScenario = function appliesToScenario(scenario) {
    var astFilter = self.getAstFilter();
    return astFilter.isElementEnrolled(scenario);
  };

  self.getAstFilter = function getAstFilter() {
    var tagGroups = Cucumber.TagGroupParser.getTagGroupsFromStrings(tags);
    var rules = tagGroups.map(function (tagGroup) {
      var rule = Cucumber.Ast.Filter.AnyOfTagsRule(tagGroup);
      return rule;
    });
    var astFilter = Cucumber.Ast.Filter(rules);
    return astFilter;
  };

  self.validCodeLengths = function validCodeLengths () {
    return [0, 1, 2];
  };

  self.invalidCodeLengthMessage = function invalidCodeLengthMessage() {
    return self.buildInvalidCodeLengthMessage(&#x27;0 or 1&#x27;, &#x27;2&#x27;);
  };

  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.SupportCode.Library" id="apidoc.element.cucumber.SupportCode.Library">
        function <span class="apidocSignatureSpan">cucumber.SupportCode.</span>Library
        <span class="apidocSignatureSpan">(supportCodeDefinition)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Library(supportCodeDefinition) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);
  var StackTrace = require(&#x27;stacktrace-js&#x27;);
  var _ = require(&#x27;lodash&#x27;);

  var listeners = [];
  var stepDefinitions = [];
  var beforeHooks = [];
  var afterHooks = [];
  var World = function World(parameters) {
    this.parameters = parameters;
  };
  var defaultTimeout= 5 * 1000;

  function createEventListenerMethod(library, eventName) {
    return function (handler) {
      library.registerHandler(eventName, handler);
    };
  }

  function appendEventHandlers(supportCodeHelper, library) {
    _.each(Cucumber.Events.ALL, function(eventName) {
      supportCodeHelper[eventName] = createEventListenerMethod(library, eventName);
    });
  }

  function getStackframe() {
    var stackframes = StackTrace.getSync();
    if (stackframes.length &#x3e; 2) {
      return stackframes[2];
    } else {
      return stackframes[0];
    }
  }

  var self = {
    lookupBeforeHooksByScenario: function lookupBeforeHooksByScenario(scenario) {
      return self.lookupHooksByScenario(beforeHooks, scenario);
    },

    lookupAfterHooksByScenario: function lookupBeforeHooksByScenario(scenario) {
      return self.lookupHooksByScenario(afterHooks, scenario);
    },

    lookupHooksByScenario: function lookupHooksByScenario(hooks, scenario) {
      return hooks.filter(function (hook) {
        return hook.appliesToScenario(scenario);
      });
    },

    lookupStepDefinitionsByName: function lookupStepDefinitionsByName(name) {
      return stepDefinitions.filter(function (stepDefinition) {
        return stepDefinition.matchesStepName(name);
      });
    },

    defineHook: function defineHook(builder, collection) {
      return function(options, code) {
        if (typeof(options) === &#x27;string&#x27;) {
          options = {tags: [options]};
        } else if (typeof(options) === &#x27;function&#x27;) {
          code = options;
          options = {};
        }
        var stackframe = getStackframe();
        var line = stackframe.getLineNumber();
        var uri = stackframe.getFileName() || &#x27;unknown&#x27;;
        var hook = builder(code, options, uri, line);
        collection.push(hook);
      };
    },

    defineStep: function defineStep(name, options, code) {
      if (typeof(options) === &#x27;function&#x27;) {
        code = options;
        options = {};
      }
      var stackframe = getStackframe();
      var line = stackframe.getLineNumber();
      var uri = stackframe.getFileName() || &#x27;unknown&#x27;;
      var stepDefinition = Cucumber.SupportCode.StepDefinition(name, options, code, uri, line);
      stepDefinitions.push(stepDefinition);
    },

    registerListener: function registerListener(listener) {
      listeners.push(listener);
    },

    registerHandler: function registerHandler(eventName, options, handler) {
      if (typeof(options) === &#x27;function&#x27;) {
        handler = options;
        options = {};
      }
      var stackframe = getStackframe();
      options.line = stackframe.getLineNumber();
      options.uri = stackframe.getFileName() || &#x27;unknown&#x27;;
      var listener = Cucumber.Listener(options);
      listener.setHandlerForEvent(eventName, handler);
      self.registerListener(listener);
    },

    getListeners: function getListeners() {
      return listeners;
    },

    instantiateNewWorld: function instantiateNewWorld(parameters) {
      return new World(parameters);
    },

    getDefaultTimeout: function getDefaultTimeout() {
      return defaultTimeout;
    },

    setDefaultTimeout: function setDefaultTimeout(milliseconds) {
      defaultTimeout = milliseconds;
    }
  };

  var supportCodeHelper = {
    Before            : self.defineHook(Cucumber.SupportCode.Hook, beforeHooks),
    After             : self.defineHook(Cucumber.SupportCode.Hook, afterHooks),
    Given             : self.defineStep,
    When              : self.defineStep,
    Then              : self.defineStep,
    defineStep        : self.defineStep,
    registerListener  : self.registerListener,
    registerHandler   : self.registerHandler,
    setDefaultTimeout : self.setDefaultTim ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...

function SupportCodeLoader(supportCodeFilePaths, compilerModules) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);

  var self = {
getSupportCodeLibrary: function getSupportCodeLibrary() {
  var supportCodeInitialiazer = self.getSupportCodeInitializer();
  var supportCodeLibrary      = Cucumber.SupportCode.<span class="apidocCodeKeywordSpan">Library</span>(supportCodeInitialiazer);
  return supportCodeLibrary;
},

getSupportCodeInitializer: function getSupportCodeInitializer() {
  var primeSupportCodeInitializer     = self.getPrimeSupportCodeInitializer();
  var secondarySupportCodeInitializer = self.getSecondarySupportCodeInitializer();
  var initializer = function () {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.SupportCode.StepDefinition" id="apidoc.element.cucumber.SupportCode.StepDefinition">
        function <span class="apidocSignatureSpan">cucumber.SupportCode.</span>StepDefinition
        <span class="apidocSignatureSpan">(pattern, options, code, uri, line)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StepDefinition(pattern, options, code, uri, line) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);


  function time() {
    if (typeof process !== &#x27;undefined&#x27; &#x26;&#x26; process.hrtime) {
      return process.hrtime();
    }
    else {
      return new Cucumber.Util.RealTime.Date().getTime();
    }
  }

  function durationInNanoseconds(start) {
    if (typeof process !== &#x27;undefined&#x27; &#x26;&#x26; process.hrtime) {
      var duration = process.hrtime(start);
      return duration[0] * 1e9 + duration[1];
    }
    else {
      return (new Cucumber.Util.RealTime.Date().getTime() - start) * 1e6;
    }
  }

  var self = {
    getLine: function getLine() {
      return line;
    },

    getPattern: function getPatternRegexp() {
      return pattern;
    },

    getPatternRegexp: function getPatternRegexp() {
      var regexp;
      if (pattern.replace) {
        var regexpString = pattern
          .replace(StepDefinition.UNSAFE_STRING_CHARACTERS_REGEXP, StepDefinition.PREVIOUS_REGEXP_MATCH)
          .replace(StepDefinition.QUOTED_DOLLAR_PARAMETER_REGEXP, StepDefinition.QUOTED_DOLLAR_PARAMETER_SUBSTITUTION)
          .replace(StepDefinition.DOLLAR_PARAMETER_REGEXP, StepDefinition.DOLLAR_PARAMETER_SUBSTITUTION);
        regexpString =
          StepDefinition.STRING_PATTERN_REGEXP_PREFIX +
          regexpString +
          StepDefinition.STRING_PATTERN_REGEXP_SUFFIX;
        regexp = new RegExp(regexpString);
      }
      else
        regexp = pattern;
      return regexp;
    },

    getUri: function getUri() {
      return uri;
    },

    matchesStepName: function matchesStepName(stepName) {
      var regexp = self.getPatternRegexp();
      return regexp.test(stepName);
    },

    invoke: function invoke(step, world, scenario, defaultTimeout, callback) {
      var start = time();
      var parameters = self.buildInvocationParameters(step, scenario);
      var timeoutInMilliseconds = options.timeout || defaultTimeout;

      function finish(error, result) {
        var stepResultData = {
          step: step,
          stepDefinition: self,
          duration: durationInNanoseconds(start),
          attachments: scenario.getAttachments(),
        };

        if (result === &#x27;pending&#x27;) {
          stepResultData.status = Cucumber.Status.PENDING;
        } else if (error) {
          stepResultData.failureException = error;
          stepResultData.status = Cucumber.Status.FAILED;
        } else {
          stepResultData.status = Cucumber.Status.PASSED;
        }

        var stepResult = Cucumber.Runtime.StepResult(stepResultData);
        callback(stepResult);
      }

      var validCodeLengths = self.validCodeLengths(parameters);
      if (validCodeLengths.indexOf(code.length) === -1) {
        return finish(self.invalidCodeLengthMessage(parameters));
      }

      Cucumber.Util.run(code, world, parameters, timeoutInMilliseconds, finish);
    },

    buildInvocationParameters: function buildInvocationParameters(step) {
      var stepName      = step.getName();
      var patternRegexp = self.getPatternRegexp();
      var parameters    = patternRegexp.exec(stepName);
      parameters.shift();
      parameters = parameters.concat(step.getArguments().map(function(arg) {
        switch (arg.getType()) {
          case &#x27;DataTable&#x27;:
            return arg;
          case &#x27;DocString&#x27;:
            return arg.getContent();
          default:
            throw new Error(&#x27;Unknown argument type:&#x27; + arg.getType());
        }
      }));
      return parameters;
    },

    buildExceptionHandlerToCodeCallback: function buildExceptionHandlerToCodeCallback(codeCallback) {
      var exceptionHandler = function handleScenarioException(exception) {
        if (exception)
          Cucumber.Debug.warn(exception.stack || exception, &#x27;exception inside feature&#x27;, 3);
        codeCallback(exception);
      };
      return exceptionHandler;
    },

    validCodeLengths: function validCodeLengths (parameters) {
      return [parameters.length, parameters.length + 1];
    },

    invalidCodeLengthMessage: function invalidCodeLengthMessage(parameters) {
      re ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
SupportCode.StepDefinition               = require(&#x27;./support_code/step_definition&#x27;);
SupportCode.StepDefinitionSnippetBuilder = require(&#x27;./support_code/step_definition_snippet_builder&#x27;);
module.exports                           = SupportCode;

},{&#x22;./support_code/hook&#x22;:48,&#x22;./support_code/library&#x22;:49,&#x22;./support_code/step_definition&#x22;:50,&#x22;./
support_code/step_definition_snippet_builder&#x22;:51}],48:[function(require,module,exports){
function Hook(code, options, uri, line) {
var Cucumber = require(&#x27;../../cucumber&#x27;);
var self = Cucumber.SupportCode.<span class="apidocCodeKeywordSpan">StepDefinition</span>(Hook.EMPTY_PATTERN, options, code, uri
, line);
var tags = options.tags || [];

self.buildInvocationParameters = function buildInvocationParameters(step, scenario) {
  return [scenario];
};

self.appliesToScenario = function appliesToScenario(scenario) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.SupportCode.StepDefinitionSnippetBuilder" id="apidoc.element.cucumber.SupportCode.StepDefinitionSnippetBuilder">
        function <span class="apidocSignatureSpan">cucumber.SupportCode.</span>StepDefinitionSnippetBuilder
        <span class="apidocSignatureSpan">(step, syntax)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StepDefinitionSnippetBuilder(step, syntax) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);

  var self = {
    buildSnippet: function buildSnippet() {
      var functionName = self.buildStepDefinitionFunctionName();
      var pattern      = self.buildStepDefinitionPattern();
      var parameters   = self.buildStepDefinitionParameters();
      var comment      = &#x27;Write code here that turns the phrase above into concrete actions&#x27;;
      return syntax.build(functionName, pattern, parameters, comment);
    },

    buildStepDefinitionFunctionName: function buildStepDefinitionFunctionName() {
      if (step.isOutcomeStep())
        return &#x27;Then&#x27;;
      else if (step.isEventStep())
        return &#x27;When&#x27;;
      else
        return &#x27;Given&#x27;;
    },

    buildStepDefinitionPattern: function buildStepDefinitionPattern() {
      var stepName              = step.getName();
      var escapedStepName       = Cucumber.Util.RegExp.escapeString(stepName);
      var parameterizedStepName = self.parameterizeStepName(escapedStepName);
      var pattern               = &#x27;/^&#x27; + parameterizedStepName + &#x27;$/&#x27;;
      return pattern;
    },

    buildStepDefinitionParameters: function buildStepDefinitionParameters() {
      var parameters = self.getStepDefinitionPatternMatchingGroupParameters();
      step.getArguments().forEach(function (arg) {
        switch (arg.getType()) {
          case &#x27;DataTable&#x27;:
            parameters.push(&#x27;table&#x27;);
            break;
          case &#x27;DocString&#x27;:
            parameters.push(&#x27;string&#x27;);
            break;
          default:
            throw new Error(&#x27;Unknown argument type:&#x27; + arg.getType());
        }
      });
      parameters.push(&#x27;callback&#x27;);
      return parameters;
    },

    getStepDefinitionPatternMatchingGroupParameters: function getStepDefinitionPatternMatchingGroupParameters() {
      var parameterCount = self.countStepDefinitionPatternMatchingGroups();
      var parameters = _.times(parameterCount, function (n) {
        return &#x27;arg&#x27; + (n + 1);
      });
      return parameters;
    },

    countStepDefinitionPatternMatchingGroups: function countStepDefinitionPatternMatchingGroups() {
      var stepDefinitionPattern    = self.buildStepDefinitionPattern();
      var numberMatchingGroupCount = Cucumber.Util.String.count(stepDefinitionPattern, NUMBER_MATCHING_GROUP);
      var quotedStringMatchingGroupCount = Cucumber.Util.String.count(stepDefinitionPattern, QUOTED_STRING_MATCHING_GROUP);
      var count = numberMatchingGroupCount + quotedStringMatchingGroupCount;
      return count;
    },

    parameterizeStepName: function parameterizeStepName(stepName) {
      var parameterizedStepName =
          stepName
          .replace(NUMBER_PATTERN, NUMBER_MATCHING_GROUP)
          .replace(QUOTED_STRING_PATTERN, QUOTED_STRING_MATCHING_GROUP);
      return parameterizedStepName;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var self = Cucumber.Listener.Formatter(options);
var snippets = [];

self.handleStepResultEvent = function handleStepResult(stepResult) {
  var status = stepResult.getStatus();
  if (status === Cucumber.Status.UNDEFINED) {
    var step = stepResult.getStep();
    var snippetBuilder = Cucumber.SupportCode.<span class="apidocCodeKeywordSpan">StepDefinitionSnippetBuilder</span>(step, options
.snippetSyntax);
    snippets.push(snippetBuilder.buildSnippet());
  }
};

self.handleFeaturesResultEvent = function handleFeaturesResultEvent(featuresResult, callback) {
  self.log(snippets.join(&#x27;\n\n&#x27;));
  self.finish(callback);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.SupportCode.StepDefinitionSnippetBuilder" id="apidoc.module.cucumber.SupportCode.StepDefinitionSnippetBuilder">module cucumber.SupportCode.StepDefinitionSnippetBuilder</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.SupportCode.StepDefinitionSnippetBuilder.StepDefinitionSnippetBuilder" id="apidoc.element.cucumber.SupportCode.StepDefinitionSnippetBuilder.StepDefinitionSnippetBuilder">
        function <span class="apidocSignatureSpan">cucumber.SupportCode.</span>StepDefinitionSnippetBuilder
        <span class="apidocSignatureSpan">(step, syntax)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StepDefinitionSnippetBuilder(step, syntax) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);

  var self = {
    buildSnippet: function buildSnippet() {
      var functionName = self.buildStepDefinitionFunctionName();
      var pattern      = self.buildStepDefinitionPattern();
      var parameters   = self.buildStepDefinitionParameters();
      var comment      = &#x27;Write code here that turns the phrase above into concrete actions&#x27;;
      return syntax.build(functionName, pattern, parameters, comment);
    },

    buildStepDefinitionFunctionName: function buildStepDefinitionFunctionName() {
      if (step.isOutcomeStep())
        return &#x27;Then&#x27;;
      else if (step.isEventStep())
        return &#x27;When&#x27;;
      else
        return &#x27;Given&#x27;;
    },

    buildStepDefinitionPattern: function buildStepDefinitionPattern() {
      var stepName              = step.getName();
      var escapedStepName       = Cucumber.Util.RegExp.escapeString(stepName);
      var parameterizedStepName = self.parameterizeStepName(escapedStepName);
      var pattern               = &#x27;/^&#x27; + parameterizedStepName + &#x27;$/&#x27;;
      return pattern;
    },

    buildStepDefinitionParameters: function buildStepDefinitionParameters() {
      var parameters = self.getStepDefinitionPatternMatchingGroupParameters();
      step.getArguments().forEach(function (arg) {
        switch (arg.getType()) {
          case &#x27;DataTable&#x27;:
            parameters.push(&#x27;table&#x27;);
            break;
          case &#x27;DocString&#x27;:
            parameters.push(&#x27;string&#x27;);
            break;
          default:
            throw new Error(&#x27;Unknown argument type:&#x27; + arg.getType());
        }
      });
      parameters.push(&#x27;callback&#x27;);
      return parameters;
    },

    getStepDefinitionPatternMatchingGroupParameters: function getStepDefinitionPatternMatchingGroupParameters() {
      var parameterCount = self.countStepDefinitionPatternMatchingGroups();
      var parameters = _.times(parameterCount, function (n) {
        return &#x27;arg&#x27; + (n + 1);
      });
      return parameters;
    },

    countStepDefinitionPatternMatchingGroups: function countStepDefinitionPatternMatchingGroups() {
      var stepDefinitionPattern    = self.buildStepDefinitionPattern();
      var numberMatchingGroupCount = Cucumber.Util.String.count(stepDefinitionPattern, NUMBER_MATCHING_GROUP);
      var quotedStringMatchingGroupCount = Cucumber.Util.String.count(stepDefinitionPattern, QUOTED_STRING_MATCHING_GROUP);
      var count = numberMatchingGroupCount + quotedStringMatchingGroupCount;
      return count;
    },

    parameterizeStepName: function parameterizeStepName(stepName) {
      var parameterizedStepName =
          stepName
          .replace(NUMBER_PATTERN, NUMBER_MATCHING_GROUP)
          .replace(QUOTED_STRING_PATTERN, QUOTED_STRING_MATCHING_GROUP);
      return parameterizedStepName;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var self = Cucumber.Listener.Formatter(options);
var snippets = [];

self.handleStepResultEvent = function handleStepResult(stepResult) {
  var status = stepResult.getStatus();
  if (status === Cucumber.Status.UNDEFINED) {
    var step = stepResult.getStep();
    var snippetBuilder = Cucumber.SupportCode.<span class="apidocCodeKeywordSpan">StepDefinitionSnippetBuilder</span>(step, options
.snippetSyntax);
    snippets.push(snippetBuilder.buildSnippet());
  }
};

self.handleFeaturesResultEvent = function handleFeaturesResultEvent(featuresResult, callback) {
  self.log(snippets.join(&#x27;\n\n&#x27;));
  self.finish(callback);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.SupportCode.StepDefinitionSnippetBuilder.JavaScriptSyntax" id="apidoc.element.cucumber.SupportCode.StepDefinitionSnippetBuilder.JavaScriptSyntax">
        function <span class="apidocSignatureSpan">cucumber.SupportCode.StepDefinitionSnippetBuilder.</span>JavaScriptSyntax
        <span class="apidocSignatureSpan">(interface)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function JavaScriptSyntax(interface) {
  return {
    build: function build (functionName, pattern, parameters, comment) {
      var functionKeyword = &#x27;function &#x27;;
      if (interface === &#x27;generator&#x27;) {
        functionKeyword += &#x27;*&#x27;;
      }

      var implementation;
      if (interface === &#x27;callback&#x27;) {
        var callbackName = parameters[parameters.length - 1];
        implementation = callbackName + &#x27;(null, \&#x27;pending\&#x27;);&#x27;;
      } else {
        parameters.pop();
        implementation = &#x27;return \&#x27;pending\&#x27;;&#x27;;
      }

      var snippet =
        &#x27;this.&#x27; + functionName + &#x27;(&#x27; + pattern + &#x27;, &#x27; + functionKeyword + &#x27;(&#x27; + parameters.join(&#x27;, &#x27;) + &#x27;) {&#x27; + &#x27;\n&#x27; +
        &#x27;  // &#x27; + comment + &#x27;\n&#x27; +
        &#x27;  &#x27; + implementation + &#x27;\n&#x27; +
        &#x27;});&#x27;;
      return snippet;
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.TagGroupParser" id="apidoc.module.cucumber.TagGroupParser">module cucumber.TagGroupParser</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.TagGroupParser.TagGroupParser" id="apidoc.element.cucumber.TagGroupParser.TagGroupParser">
        function <span class="apidocSignatureSpan">cucumber.</span>TagGroupParser
        <span class="apidocSignatureSpan">(tagGroupString)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TagGroupParser(tagGroupString) {
  var self = {
    parse: function parse() {
      var splitTags = tagGroupString.split(TagGroupParser.TAG_SEPARATOR);
      var trimmedTags = splitTags.map(function (tag) { return tag.trim(); });
      return trimmedTags;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return self;
}

TagGroupParser.getTagGroupsFromStrings = function getTagGroupsFromStrings(tagGroupStrings) {
  var Cucumber = require(&#x27;../cucumber&#x27;);

  var tagGroups = tagGroupStrings.map(function (tagOptionValue) {
    var tagGroupParser = Cucumber.<span class="apidocCodeKeywordSpan">TagGroupParser</span>(tagOptionValue);
    var tagGroup       = tagGroupParser.parse();
    return tagGroup;
  });
  return tagGroups;
};

TagGroupParser.TAG_SEPARATOR = &#x27;,&#x27;;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.TagGroupParser.getTagGroupsFromStrings" id="apidoc.element.cucumber.TagGroupParser.getTagGroupsFromStrings">
        function <span class="apidocSignatureSpan">cucumber.TagGroupParser.</span>getTagGroupsFromStrings
        <span class="apidocSignatureSpan">(tagGroupStrings)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getTagGroupsFromStrings(tagGroupStrings) {
  var Cucumber = require(&#x27;../cucumber&#x27;);

  var tagGroups = tagGroupStrings.map(function (tagOptionValue) {
    var tagGroupParser = Cucumber.TagGroupParser(tagOptionValue);
    var tagGroup       = tagGroupParser.parse();
    return tagGroup;
  });
  return tagGroups;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

getFeatureSources: function getFeatureSources() {
  var featureSourceLoader = Cucumber.Cli.FeatureSourceLoader(expandedFeaturePaths);
  return featureSourceLoader.getSources();
},

getAstFilter: function getAstFilter() {
  var tagGroups = Cucumber.TagGroupParser.<span class="apidocCodeKeywordSpan">getTagGroupsFromStrings</span>(options.tags);
  var tagRules = tagGroups.map(function (tags) {
     return Cucumber.Ast.Filter.AnyOfTagsRule(tags);
  });
  var lineRule = Cucumber.Ast.Filter.ScenarioAtLineRule(unexpandedFeaturePaths);
  var nameRule = Cucumber.Ast.Filter.AnyOfNamesRule(options.name);
  var rules = tagRules.concat([lineRule, nameRule]);
  return Cucumber.Ast.Filter(rules);
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Type" id="apidoc.module.cucumber.Type">module cucumber.Type</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Type.HashDataTable" id="apidoc.element.cucumber.Type.HashDataTable">
        function <span class="apidocSignatureSpan">cucumber.Type.</span>HashDataTable
        <span class="apidocSignatureSpan">(rawArray)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function HashDataTable(rawArray) {
  var self = {
    raw: function raw() {
      var hashKeys        = self.getHashKeys();
      var hashValueArrays = self.getHashValueArrays();
      var hashes          = self.createHashesFromKeysAndValueArrays(hashKeys, hashValueArrays);
      return hashes;
    },

    getHashKeys: function getHashKeys() {
      return rawArray[0];
    },

    getHashValueArrays: function getHashValueArrays() {
      var _rawArray = [].concat(rawArray);
      _rawArray.shift();
      return _rawArray;
    },

    createHashesFromKeysAndValueArrays: function createHashesFromKeysAndValueArrays(keys, valueArrays) {
      var hashes = [];
      valueArrays.forEach(function (values) {
        var hash = self.createHashFromKeysAndValues(keys, values);
        hashes.push(hash);
      });
      return hashes;
    },

    createHashFromKeysAndValues: function createHashFromKeysAndValues(keys, values) {
      var hash = {};
      var len  = keys.length;
      for (var i = 0; i &#x3c; len; i++) {
        hash[keys[i]] = values[i];
      }
      return hash;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    raw: function raw() {
      return rawTable.slice(0);
    },

    hashes: function hashes() {
      var raw              = self.raw();
      var hashDataTable    = Cucumber.Type.<span class="apidocCodeKeywordSpan">HashDataTable</span>(raw);
      var rawHashDataTable = hashDataTable.raw();
      return rawHashDataTable;
    }
  };
  return self;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Type.String" id="apidoc.element.cucumber.Type.String">
        function <span class="apidocSignatureSpan">cucumber.Type.</span>String
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function String() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Type.String" id="apidoc.module.cucumber.Type.String">module cucumber.Type.String</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Type.String.String" id="apidoc.element.cucumber.Type.String.String">
        function <span class="apidocSignatureSpan">cucumber.Type.</span>String
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function String() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Type.String.prototype" id="apidoc.module.cucumber.Type.String.prototype">module cucumber.Type.String.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Type.String.prototype.entityify" id="apidoc.element.cucumber.Type.String.prototype.entityify">
        function <span class="apidocSignatureSpan">cucumber.Type.String.prototype.</span>entityify
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">entityify = function (){return this.replace(/&#x26;/g,&#x22;&#x26;amp;&#x22;).replace(/&#x3c;/g,&#x22;&#x26;lt;&#x22;).replace(/&#x3e;/g,&#x22;&#x26;gt;&#x22;
)}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Type.String.prototype.isAlpha" id="apidoc.element.cucumber.Type.String.prototype.isAlpha">
        function <span class="apidocSignatureSpan">cucumber.Type.String.prototype.</span>isAlpha
        <span class="apidocSignatureSpan">( )</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isAlpha = function ( ){return this&#x3e;=&#x22;a&#x22;&#x26;&#x26;this&#x3c;=&#x22;z\uffff&#x22;||this&#x3e;=&#x22;A&#x22;&#x26;&#x26;this&#x3c;=&#x22;Z\uffff&#x22;}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Type.String.prototype.isDigit" id="apidoc.element.cucumber.Type.String.prototype.isDigit">
        function <span class="apidocSignatureSpan">cucumber.Type.String.prototype.</span>isDigit
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDigit = function (){return this&#x3e;=&#x22;0&#x22;&#x26;&#x26;
this&#x3c;=&#x22;9&#x22;}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Type.String.prototype.supplant" id="apidoc.element.cucumber.Type.String.prototype.supplant">
        function <span class="apidocSignatureSpan">cucumber.Type.String.prototype.</span>supplant
        <span class="apidocSignatureSpan">(e)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">supplant = function (e){return this.replace(/\{([^{}]*)\}/g,function(t,n){var r=e[n];return typeof
r==&#x22;string&#x22;||typeof r==&#x22;number&#x22;?r:t})}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Util" id="apidoc.module.cucumber.Util">module cucumber.Util</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Util.Arguments" id="apidoc.element.cucumber.Util.Arguments">
        function <span class="apidocSignatureSpan">cucumber.Util.</span>Arguments
        <span class="apidocSignatureSpan">(argumentsObject)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Arguments(argumentsObject) {
  return Array.prototype.slice.call(argumentsObject);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Util.Colors" id="apidoc.element.cucumber.Util.Colors">
        function <span class="apidocSignatureSpan">cucumber.Util.</span>Colors
        <span class="apidocSignatureSpan">(useColors)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Colors(useColors) {
  colors.enabled = useColors;
  return {
    ambiguous: colors.red,
    bold: colors.bold,
    failed: colors.red,
    location: colors.grey,
    passed: colors.green,
    pending: colors.yellow,
    skipped: colors.cyan,
    tag: colors.cyan,
    undefined: colors.yellow
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}).call(this,require(&#x22;buffer&#x22;).Buffer)

},{&#x22;../../cucumber&#x22;:&#x22;cucumber&#x22;,&#x22;buffer&#x22;:74}],30:[function(require,module,exports){
function PrettyFormatter(options) {
var Cucumber         = require(&#x27;../../cucumber&#x27;);
var figures          = require(&#x27;figures&#x27;);

var colors           = Cucumber.Util.<span class="apidocCodeKeywordSpan">Colors</span>(options.useColors);
var self             = Cucumber.Listener.Formatter(options);
var summaryFormatter = Cucumber.Listener.SummaryFormatter({
  snippetSyntax: options.snippetSyntax,
  useColors: options.useColors
});

var parentHear = self.hear;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Util.asyncForEach" id="apidoc.element.cucumber.Util.asyncForEach">
        function <span class="apidocSignatureSpan">cucumber.Util.</span>asyncForEach
        <span class="apidocSignatureSpan">(items, userFunction, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function asyncForEach(items, userFunction, callback) {
  var itemsCopy = items.slice(0);

  function iterate() {
    if (itemsCopy.length &#x3e; 0) {
      var item = itemsCopy.shift();
      userFunction(item, function () {
        process.nextTick(iterate);
      });
    } else {
      callback();
    }
  }

  iterate();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

broadcastAfterEvent: function broadcastAfterEvent(event, callback) {
  var postEvent = event.replicateAsPostEvent();
  self.broadcastEvent(postEvent, callback);
},

broadcastEvent: function broadcastEvent(event, callback) {
  Cucumber.Util.<span class="apidocCodeKeywordSpan">asyncForEach</span>(listeners, function (listener, callback) {
    listener.hear(event, listenerDefaultTimeout, function(error) {
      if (error) {
        throw error;
      }
      callback();
    });
  }, callback);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Util.run" id="apidoc.element.cucumber.Util.run">
        function <span class="apidocSignatureSpan">cucumber.Util.</span>run
        <span class="apidocSignatureSpan">(fn, thisArg, argsArray, timeoutInMilliseconds, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(fn, thisArg, argsArray, timeoutInMilliseconds, callback) {
  var Cucumber = require(&#x27;../../cucumber&#x27;);
  var timeoutId;

  function finish(error, result) {
    Cucumber.Util.Exception.unregisterUncaughtExceptionHandler(finish);
    if (timeoutId) {
      Cucumber.Util.RealTime.clearTimeout(timeoutId);
    }
    if (error &#x26;&#x26; !(error instanceof Error)) {
      error = util.format(error);
    }
    callback(error, result);
    callback = function() {};
  }

  argsArray.push(finish);

  timeoutId = Cucumber.Util.RealTime.setTimeout(function(){
    finish(&#x27;function timed out after &#x27; + timeoutInMilliseconds + &#x27; milliseconds&#x27;);
  }, timeoutInMilliseconds);

  Cucumber.Util.Exception.registerUncaughtExceptionHandler(finish);

  var result;
  try {
    if (isGeneratorFn(fn)) {
      result = co.wrap(fn).apply(thisArg, argsArray);
    } else {
      result = fn.apply(thisArg, argsArray);
    }
  } catch (error) {
    return finish(error);
  }

  var callbackInterface = fn.length === argsArray.length;
  var promiseInterface = result &#x26;&#x26; typeof result.then === &#x27;function&#x27;;
  if (callbackInterface &#x26;&#x26; promiseInterface) {
    finish(&#x27;function accepts a callback and returns a promise&#x27;);
  } else if (promiseInterface) {
    result.then(function(result){
      finish(null, result);
    }, function(error) {
      finish(error || &#x27;Promise rejected&#x27;);
    });
  } else if (!callbackInterface) {
    finish(null, result);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

var self = {
  hear: function hear(event, defaultTimeout, callback) {
    if (self.hasHandlerForEvent(event)) {
      var handler = self.getHandlerForEvent(event);
      var timeout = self.getTimeout() || defaultTimeout;
      Cucumber.Util.<span class="apidocCodeKeywordSpan">run</span>(handler, null, [event.getPayload()], timeout, function(error) {
        error = self.prependLocationToError(error);
        callback(error);
      });
    } else {
      callback();
    }
  },
...</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Util.Exception" id="apidoc.module.cucumber.Util.Exception">module cucumber.Util.Exception</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Util.Exception.registerUncaughtExceptionHandler" id="apidoc.element.cucumber.Util.Exception.registerUncaughtExceptionHandler">
        function <span class="apidocSignatureSpan">cucumber.Util.Exception.</span>registerUncaughtExceptionHandler
        <span class="apidocSignatureSpan">(exceptionHandler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function registerUncaughtExceptionHandler(exceptionHandler) {
  if (process.on) {
    process.on(&#x27;uncaughtException&#x27;, exceptionHandler);
  } else if (typeof(window) !== &#x27;undefined&#x27;) {
    window.onerror = exceptionHandler;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

argsArray.push(finish);

timeoutId = Cucumber.Util.RealTime.setTimeout(function(){
  finish(&#x27;function timed out after &#x27; + timeoutInMilliseconds + &#x27; milliseconds&#x27;);
}, timeoutInMilliseconds);

Cucumber.Util.Exception.<span class="apidocCodeKeywordSpan">registerUncaughtExceptionHandler</span>(finish);

var result;
try {
  if (isGeneratorFn(fn)) {
    result = co.wrap(fn).apply(thisArg, argsArray);
  } else {
    result = fn.apply(thisArg, argsArray);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Util.Exception.unregisterUncaughtExceptionHandler" id="apidoc.element.cucumber.Util.Exception.unregisterUncaughtExceptionHandler">
        function <span class="apidocSignatureSpan">cucumber.Util.Exception.</span>unregisterUncaughtExceptionHandler
        <span class="apidocSignatureSpan">(exceptionHandler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function unregisterUncaughtExceptionHandler(exceptionHandler) {
  if (process.removeListener) {
    process.removeListener(&#x27;uncaughtException&#x27;, exceptionHandler);
  } else if (typeof(window) !== &#x27;undefined&#x27;) {
    window.onerror = void(0);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var isGeneratorFn = require(&#x27;is-generator&#x27;).fn;

function run(fn, thisArg, argsArray, timeoutInMilliseconds, callback) {
var Cucumber = require(&#x27;../../cucumber&#x27;);
var timeoutId;

function finish(error, result) {
  Cucumber.Util.Exception.<span class="apidocCodeKeywordSpan">unregisterUncaughtExceptionHandler</span>(finish);
  if (timeoutId) {
    Cucumber.Util.RealTime.clearTimeout(timeoutId);
  }
  if (error &#x26;&#x26; !(error instanceof Error)) {
    error = util.format(error);
  }
  callback(error, result);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Util.RealTime" id="apidoc.module.cucumber.Util.RealTime">module cucumber.Util.RealTime</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Util.RealTime.Date" id="apidoc.element.cucumber.Util.RealTime.Date">
        function <span class="apidocSignatureSpan">cucumber.Util.RealTime.</span>Date
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Date() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...


function time() {
  if (typeof process !== &#x27;undefined&#x27; &#x26;&#x26; process.hrtime) {
    return process.hrtime();
  }
  else {
    return new Cucumber.Util.RealTime.<span class="apidocCodeKeywordSpan">Date</span>().getTime();
  }
}

function durationInNanoseconds(start) {
  if (typeof process !== &#x27;undefined&#x27; &#x26;&#x26; process.hrtime) {
    var duration = process.hrtime(start);
    return duration[0] * 1e9 + duration[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Util.RealTime.clearImmediate" id="apidoc.element.cucumber.Util.RealTime.clearImmediate">
        function <span class="apidocSignatureSpan">cucumber.Util.RealTime.</span>clearImmediate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearImmediate = function () { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Util.RealTime.clearInterval" id="apidoc.element.cucumber.Util.RealTime.clearInterval">
        function <span class="apidocSignatureSpan">cucumber.Util.RealTime.</span>clearInterval
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearInterval = function () { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Util.RealTime.clearTimeout" id="apidoc.element.cucumber.Util.RealTime.clearTimeout">
        function <span class="apidocSignatureSpan">cucumber.Util.RealTime.</span>clearTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearTimeout = function () { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function run(fn, thisArg, argsArray, timeoutInMilliseconds, callback) {
var Cucumber = require(&#x27;../../cucumber&#x27;);
var timeoutId;

function finish(error, result) {
  Cucumber.Util.Exception.unregisterUncaughtExceptionHandler(finish);
  if (timeoutId) {
    Cucumber.Util.RealTime.<span class="apidocCodeKeywordSpan">clearTimeout</span>(timeoutId);
  }
  if (error &#x26;&#x26; !(error instanceof Error)) {
    error = util.format(error);
  }
  callback(error, result);
  callback = function() {};
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Util.RealTime.setImmediate" id="apidoc.element.cucumber.Util.RealTime.setImmediate">
        function <span class="apidocSignatureSpan">cucumber.Util.RealTime.</span>setImmediate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setImmediate = function () { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Util.RealTime.setInterval" id="apidoc.element.cucumber.Util.RealTime.setInterval">
        function <span class="apidocSignatureSpan">cucumber.Util.RealTime.</span>setInterval
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setInterval = function () { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.Util.RealTime.setTimeout" id="apidoc.element.cucumber.Util.RealTime.setTimeout">
        function <span class="apidocSignatureSpan">cucumber.Util.RealTime.</span>setTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setTimeout = function () { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  callback(error, result);
  callback = function() {};
}

argsArray.push(finish);

timeoutId = Cucumber.Util.RealTime.<span class="apidocCodeKeywordSpan">setTimeout</span>(function(){
  finish(&#x27;function timed out after &#x27; + timeoutInMilliseconds + &#x27; milliseconds&#x27;);
}, timeoutInMilliseconds);

Cucumber.Util.Exception.registerUncaughtExceptionHandler(finish);

var result;
try {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Util.RegExp" id="apidoc.module.cucumber.Util.RegExp">module cucumber.Util.RegExp</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Util.RegExp.escapeString" id="apidoc.element.cucumber.Util.RegExp.escapeString">
        function <span class="apidocSignatureSpan">cucumber.Util.RegExp.</span>escapeString
        <span class="apidocSignatureSpan">(string)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function escapeString(string) {
  var escaped = string.replace(_RegExp.ESCAPE_PATTERN, _RegExp.ESCAPE_REPLACEMENT);
  return escaped;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return &#x27;When&#x27;;
  else
    return &#x27;Given&#x27;;
},

buildStepDefinitionPattern: function buildStepDefinitionPattern() {
  var stepName              = step.getName();
  var escapedStepName       = Cucumber.Util.RegExp.<span class="apidocCodeKeywordSpan">escapeString</span>(stepName);
  var parameterizedStepName = self.parameterizeStepName(escapedStepName);
  var pattern               = &#x27;/^&#x27; + parameterizedStepName + &#x27;$/&#x27;;
  return pattern;
},

buildStepDefinitionParameters: function buildStepDefinitionParameters() {
  var parameters = self.getStepDefinitionPatternMatchingGroupParameters();
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.Util.String" id="apidoc.module.cucumber.Util.String">module cucumber.Util.String</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.Util.String.count" id="apidoc.element.cucumber.Util.String.count">
        function <span class="apidocSignatureSpan">cucumber.Util.String.</span>count
        <span class="apidocSignatureSpan">(hayStack, needle)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function count(hayStack, needle) {
  var splitHayStack = hayStack.split(needle);
  return splitHayStack.length - 1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return &#x27;arg&#x27; + (n + 1);
  });
  return parameters;
},

countStepDefinitionPatternMatchingGroups: function countStepDefinitionPatternMatchingGroups() {
  var stepDefinitionPattern    = self.buildStepDefinitionPattern();
  var numberMatchingGroupCount = Cucumber.Util.String.<span class="apidocCodeKeywordSpan">count</span>(stepDefinitionPattern, NUMBER_MATCHING_GROUP
);
  var quotedStringMatchingGroupCount = Cucumber.Util.String.count(stepDefinitionPattern, QUOTED_STRING_MATCHING_GROUP);
  var count = numberMatchingGroupCount + quotedStringMatchingGroupCount;
  return count;
},

parameterizeStepName: function parameterizeStepName(stepName) {
  var parameterizedStepName =
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cucumber.cucumber" id="apidoc.module.cucumber.cucumber">module cucumber.cucumber</a></h1>


    <h2>
        <a href="#apidoc.element.cucumber.cucumber.cucumber" id="apidoc.element.cucumber.cucumber.cucumber">
        function <span class="apidocSignatureSpan">cucumber.</span>cucumber
        <span class="apidocSignatureSpan">(featureSource, supportCodeInitializer, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Cucumber(featureSource, supportCodeInitializer, options) {
  var configuration = Cucumber.VolatileConfiguration(featureSource, supportCodeInitializer, options);
  var runtime       = Cucumber.Runtime(configuration);
  return runtime;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.cucumber.Cli" id="apidoc.element.cucumber.cucumber.Cli">
        function <span class="apidocSignatureSpan">cucumber.cucumber.</span>Cli
        <span class="apidocSignatureSpan">(argv)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Cli(argv) {
  var Cucumber = require(&#x27;../cucumber&#x27;);
  var Command = require(&#x27;commander&#x27;).Command;
  var path = require(&#x27;path&#x27;);
  var _ = require(&#x27;lodash&#x27;);

  function mergeWorldParametersJson(str, memo) {
    var val;
    try {
      val = JSON.parse(str);
    } catch (error) {
      throw new Error(&#x27;--world-parameters passed invalid JSON: &#x27; + error.message + &#x27;: &#x27; + str);
    }
    if (!_.isPlainObject(val)) {
      throw new Error(&#x27;--world-parameters must be passed a JSON string of an object: &#x27; + str);
    }
    _.merge(memo, val);
    return memo;
  }

  function collect(val, memo) {
    memo.push(val);
    return memo;
  }

  function getProgram () {
    var program = new Command(path.basename(argv[1]));

    program
      .usage(&#x27;[options] [&#x3c;DIR | FILE[:LINE]&#x3e;...]&#x27;)
      .version(Cucumber.VERSION, &#x27;-v, --version&#x27;)
      .option(&#x27;-b, --backtrace&#x27;, &#x27;show full backtrace for errors&#x27;)
      .option(&#x27;--compiler &#x3c;EXTENSION:MODULE&#x3e;&#x27;, &#x27;require files with the given EXTENSION after requiring MODULE (repeatable)&#x27;, collect
, [])
      .option(&#x27;-d, --dry-run&#x27;, &#x27;invoke formatters without executing steps&#x27;)
      .option(&#x27;--fail-fast&#x27;, &#x27;abort the run on first failure&#x27;)
      .option(&#x27;-f, --format &#x3c;TYPE[:PATH]&#x3e;&#x27;, &#x27;specify the output format, optionally supply PATH to redirect formatter output (repeatable
)&#x27;, collect, [&#x27;pretty&#x27;])
      .option(&#x27;--name &#x3c;REGEXP&#x3e;&#x27;, &#x27;only execute the scenarios with name matching the expression (repeatable)&#x27;, collect, [])
      .option(&#x27;--no-colors&#x27;, &#x27;disable colors in formatter output&#x27;)
      .option(&#x27;-p, --profile &#x3c;NAME&#x3e;&#x27;, &#x27;specify the profile to use (repeatable)&#x27;, collect, [])
      .option(&#x27;-r, --require &#x3c;FILE | DIR&#x3e;&#x27;, &#x27;require files before executing features (repeatable)&#x27;, collect, [])
      .option(&#x27;--snippet-interface [callback | generator | promise | synchronous]&#x27;, &#x27;specify a snippet interface&#x27;, &#x27;callback&#x27;)
      .option(&#x27;--snippet-syntax [&#x3c;FILE&#x3e;]&#x27;, &#x27;specify a custom snippet syntax&#x27;)
      .option(&#x27;-S, --strict&#x27;, &#x27;fail if there are any undefined or pending steps&#x27;)
      .option(&#x27;-t, --tags &#x3c;EXPRESSION&#x3e;&#x27;, &#x27;only execute the features or scenarios with tags matching the expression (repeatable)&#x27;,
collect, [])
      .option(&#x27;--world-parameters &#x3c;JSON&#x3e;&#x27;, &#x27;provide parameters that will be passed to the world constructor (repeatable)&#x27;, mergeWorldParametersJson
, {});

    program.on(&#x27;--help&#x27;, function(){
      console.log(&#x27;  For more details please visit https://github.com/cucumber/cucumber-js#cli\n&#x27;);
    });

    return program;
  }

  function getConfiguration() {
    var program = getProgram();
    program.parse(argv);
    var profileArgs = Cucumber.Cli.ProfilesLoader.getArgs(program.profile);
    if (profileArgs.length &#x3e; 0) {
      var fullArgs = argv.slice(0, 2).concat(profileArgs).concat(argv.slice(2));
      program = getProgram();
      program.parse(fullArgs);
    }
    var configuration = Cucumber.Cli.Configuration(program.opts(), program.args);
    return configuration;
  }

  var self = {
    run: function run(callback) {
      var configuration = getConfiguration();
      var runtime    = Cucumber.Runtime(configuration);
      var formatters = configuration.getFormatters();
      formatters.forEach(function (formatter) {
        runtime.attachListener(formatter);
      });
      runtime.start(callback);
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.cucumber.Listener" id="apidoc.element.cucumber.cucumber.Listener">
        function <span class="apidocSignatureSpan">cucumber.cucumber.</span>Listener
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Listener(options) {
  var Cucumber     = require(&#x27;../cucumber&#x27;);

  if (!options) {
    options = {};
  }

  var self = {
    hear: function hear(event, defaultTimeout, callback) {
      if (self.hasHandlerForEvent(event)) {
        var handler = self.getHandlerForEvent(event);
        var timeout = self.getTimeout() || defaultTimeout;
        Cucumber.Util.run(handler, null, [event.getPayload()], timeout, function(error) {
          error = self.prependLocationToError(error);
          callback(error);
        });
      } else {
        callback();
      }
    },

    hasHandlerForEvent: function hasHandlerForEvent(event) {
      var handlerName = self.buildHandlerNameForEvent(event);
      return self[handlerName] !== undefined;
    },

    buildHandlerNameForEvent: function buildHandlerNameForEvent(event) {
      return self.buildHandlerName(event.getName());
    },

    getHandlerForEvent: function getHandlerForEvent(event) {
      var eventHandlerName = self.buildHandlerNameForEvent(event);
      return self[eventHandlerName];
    },

    buildHandlerName: function buildHandler(shortName) {
      return Listener.EVENT_HANDLER_NAME_PREFIX + shortName + Listener.EVENT_HANDLER_NAME_SUFFIX;
    },

    setHandlerForEvent: function setHandlerForEvent(shortname, handler) {
      var eventName = self.buildHandlerName(shortname);
      self[eventName] = handler;
    },

    getTimeout: function() {
      return options.timeout;
    },

    getUri: function() {
      return options.uri;
    },

    getLine: function() {
      return options.line;
    },

    prependLocationToError: function(error) {
      if (error &#x26;&#x26; self.getUri()) {
        var ref = path.relative(process.cwd(), self.getUri()) + &#x27;:&#x27; + self.getLine() + &#x27; &#x27;;
        if (error instanceof Error) {
          error.message = ref + error.message;
        } else {
          error = ref + error;
        }
      }
      return error;
    },
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var Cucumber = require(&#x27;../../cucumber&#x27;);

if (!options)
  options = {};

var logs = &#x27;&#x27;;

var self = Cucumber.<span class="apidocCodeKeywordSpan">Listener</span>(options);

self.log = function log(string) {
  logs += string;
  if (options.stream)
    options.stream.write(string);
  if (typeof(options.logToFunction) === &#x27;function&#x27;)
    options.logToFunction(string);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.cucumber.Parser" id="apidoc.element.cucumber.cucumber.Parser">
        function <span class="apidocSignatureSpan">cucumber.cucumber.</span>Parser
        <span class="apidocSignatureSpan">(featureSources, astFilter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser(featureSources, astFilter) {
  var Gherkin      = require(&#x27;gherkin&#x27;);
  var Cucumber     = require(&#x27;../cucumber&#x27;);

  var parser = new Gherkin.Parser();
  var compiler = new Gherkin.Compiler();

  var self = {
    parse: function parse() {
      var features = [];

      featureSources.forEach(function (featureSource) {
        var uri    = featureSource[Parser.FEATURE_NAME_SOURCE_PAIR_URI_INDEX];
        var source = featureSource[Parser.FEATURE_NAME_SOURCE_PAIR_SOURCE_INDEX];

        var gherkinDocument;
        try {
          gherkinDocument = parser.parse(source);
        } catch(e) {
          e.message += &#x27;\npath: &#x27; + uri;
          throw e;
        }

        var pickles = compiler.compile(gherkinDocument);
        var scenarios = [];
        pickles.forEach(function (pickleData) {
          var scenario = Cucumber.Ast.Scenario(pickleData, uri);
          if (astFilter.isElementEnrolled(scenario)) {
            scenarios.push(scenario);
          }
        });

        if (scenarios.length &#x3e; 0) {
          features.push(Cucumber.Ast.Feature(gherkinDocument.feature, uri, scenarios));
        }
      });

      return features;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}).call(this,require(&#x27;_process&#x27;))

},{&#x22;../../cucumber&#x22;:&#x22;cucumber&#x22;,&#x22;_process&#x22;:173,&#x22;cli-table&#x22;:75,&#x22;duration&#x22;:102,&#
x22;lodash&#x22;:165,&#x22;path&#x22;:170}],35:[function(require,module,exports){
function Parser(featureSources, astFilter) {
  var Gherkin      = require(&#x27;gherkin&#x27;);
  var Cucumber     = require(&#x27;../cucumber&#x27;);

  var parser = new Gherkin.<span class="apidocCodeKeywordSpan">Parser</span>();
  var compiler = new Gherkin.Compiler();

  var self = {
    parse: function parse() {
var features = [];

featureSources.forEach(function (featureSource) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.cucumber.Runtime" id="apidoc.element.cucumber.cucumber.Runtime">
        function <span class="apidocSignatureSpan">cucumber.cucumber.</span>Runtime
        <span class="apidocSignatureSpan">(configuration)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Runtime(configuration) {
  var Cucumber = require(&#x27;../cucumber&#x27;);

  var listeners = [];

  var self = {
    start: function start(callback) {
      if (typeof(callback) !== &#x27;function&#x27;)
        throw new Error(Runtime.START_MISSING_CALLBACK_ERROR);

      var features = self.getFeatures();
      var supportCodeLibrary = self.getSupportCodeLibrary();
      var options = {
        dryRun: configuration.isDryRunRequested &#x26;&#x26; configuration.isDryRunRequested(),
        failFast: configuration.isFailFastRequested &#x26;&#x26; configuration.isFailFastRequested(),
        strict: configuration.isStrictRequested &#x26;&#x26; configuration.isStrictRequested(),
        worldParameters: configuration.getWorldParameters()
      };

      var featuresRunner = Runtime.FeaturesRunner(features, supportCodeLibrary, listeners, options);

      if (configuration.shouldFilterStackTraces())
        Runtime.StackTraceFilter.filter();

      featuresRunner.run(function (result) {
        Runtime.StackTraceFilter.unfilter();
        callback(result);
      });
    },

    attachListener: function attachListener(listener) {
      listeners.push(listener);
    },

    getFeatures: function getFeatures() {
      var featureSources = configuration.getFeatureSources();
      var astFilter      = configuration.getAstFilter();
      var parser         = Cucumber.Parser(featureSources, astFilter);
      var features       = parser.parse();
      return features;
    },

    getSupportCodeLibrary: function getSupportCodeLibrary() {
      var supportCodeLibrary = configuration.getSupportCodeLibrary();
      return supportCodeLibrary;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var configuration = Cucumber.Cli.Configuration(program.opts(), program.args);
  return configuration;
}

var self = {
  run: function run(callback) {
    var configuration = getConfiguration();
    var runtime    = Cucumber.<span class="apidocCodeKeywordSpan">Runtime</span>(configuration);
    var formatters = configuration.getFormatters();
    formatters.forEach(function (formatter) {
      runtime.attachListener(formatter);
    });
    runtime.start(callback);
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.cucumber.TagGroupParser" id="apidoc.element.cucumber.cucumber.TagGroupParser">
        function <span class="apidocSignatureSpan">cucumber.cucumber.</span>TagGroupParser
        <span class="apidocSignatureSpan">(tagGroupString)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TagGroupParser(tagGroupString) {
  var self = {
    parse: function parse() {
      var splitTags = tagGroupString.split(TagGroupParser.TAG_SEPARATOR);
      var trimmedTags = splitTags.map(function (tag) { return tag.trim(); });
      return trimmedTags;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return self;
}

TagGroupParser.getTagGroupsFromStrings = function getTagGroupsFromStrings(tagGroupStrings) {
  var Cucumber = require(&#x27;../cucumber&#x27;);

  var tagGroups = tagGroupStrings.map(function (tagOptionValue) {
    var tagGroupParser = Cucumber.<span class="apidocCodeKeywordSpan">TagGroupParser</span>(tagOptionValue);
    var tagGroup       = tagGroupParser.parse();
    return tagGroup;
  });
  return tagGroups;
};

TagGroupParser.TAG_SEPARATOR = &#x27;,&#x27;;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cucumber.cucumber.VolatileConfiguration" id="apidoc.element.cucumber.cucumber.VolatileConfiguration">
        function <span class="apidocSignatureSpan">cucumber.cucumber.</span>VolatileConfiguration
        <span class="apidocSignatureSpan">(features, supportCodeInitializer, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function VolatileConfiguration(features, supportCodeInitializer, options) {
  var Cucumber = require(&#x27;../cucumber&#x27;);
  var supportCodeLibrary = Cucumber.SupportCode.Library(supportCodeInitializer);

  options = options || {};
  var strictMode = !!options.strict;
  var tagGroupStrings = options.tags || [];
  var backtrace = !!options.backtrace;
  var worldParameters = options.worldParameters || {};

  var self = {
    isStrictRequested: function isStrictRequested() {
      return strictMode;
    },

    getFeatureSources: function getFeatureSources() {
      if (features.replace) { // single source
        var featureNameSourcePair = [VolatileConfiguration.FEATURE_SOURCE_NAME, features];
        return [featureNameSourcePair];
      } else { // multiple features
        return features;
      }
    },

    getAstFilter: function getAstFilter() {
      var tagRules = self.getTagAstFilterRules();
      var astFilter = Cucumber.Ast.Filter(tagRules);
      return astFilter;
    },

    getSupportCodeLibrary: function getSupportCodeLibrary() {
      return supportCodeLibrary;
    },

    getTagAstFilterRules: function getTagAstFilterRules() {
      var rules = [];
      tagGroupStrings.forEach(function (tagGroupString) {
        var rule = self.buildAstFilterRuleFromTagGroupString(tagGroupString);
        rules.push(rule);
      });
      return rules;
    },

    buildAstFilterRuleFromTagGroupString: function buildAstFilterRuleFromTagGroupString(tagGroupString) {
      var tagGroupParser = Cucumber.TagGroupParser(tagGroupString);
      var tagGroup       = tagGroupParser.parse();
      var rule           = Cucumber.Ast.Filter.AnyOfTagsRule(tagGroup);
      return rule;
    },

    shouldFilterStackTraces: function shouldFilterStackTraces() {
      return !backtrace;
    },

    getWorldParameters: function getWorldParameters() {
      return worldParameters;
    }
  };
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    &#x22;lib/&#x22;,
    &#x22;release/&#x22;
  ]
}

},{}],&#x22;cucumber&#x22;:[function(require,module,exports){
function Cucumber(featureSource, supportCodeInitializer, options) {
  var configuration = Cucumber.<span class="apidocCodeKeywordSpan">VolatileConfiguration</span>(featureSource, supportCodeInitializer
, options);
  var runtime       = Cucumber.Runtime(configuration);
  return runtime;
}

Cucumber.Api                   = require(&#x27;./cucumber/api&#x27;);
Cucumber.Ast                   = require(&#x27;./cucumber/ast&#x27;);
Cucumber.Cli                   = require(&#x27;./cucumber/cli&#x27;);
...</pre></li>
    </ul>




















</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
